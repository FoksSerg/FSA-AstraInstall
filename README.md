# FSA-AstraInstall Automation

## Описание проекта

Автоматизированная система для обновления Astra Linux с установкой Wine и Astra.IDE через графический интерфейс.

### Основная задача

**Автоматическое обновление системы Astra Linux** из доступных репозиториев с автоподтверждением запросов установщика пакетов и последующей автоматической установкой Wine и Astra.IDE.

### Алгоритм работы

1. **Обновление Python** - сначала обновляется Python для работы графического интерфейса
2. **Запуск GUI** - после обновления Python запускается графическая форма
3. **Автоматическое обновление системы** - обновление из доступных репозиториев
4. **Автоподтверждение запросов** - автоматические ответы на запросы установщика пакетов
5. **Установка компонентов** - автоматическая установка Wine и Astra.IDE

### Основные возможности

- **Автоматическое обновление Python** - для работы графического интерфейса
- **Графический интерфейс** - удобная форма для управления процессом
- **Автоматическое обновление системы** - из доступных репозиториев Astra Linux
- **Автоподтверждение запросов** - автоматические ответы на системные диалоги (dpkg, apt)
- **Установка Wine** - автоматическая установка Wine для совместимости
- **Установка Astra.IDE** - автоматическая установка среды разработки
- **Мониторинг процесса** - отслеживание прогресса установки

### Технические требования

- Astra Linux 1.7 x86-64
- Python 2.7.16 (базовая версия, обновляется автоматически)
- Права root для установки пакетов
- Доступ к репозиториям Astra Linux

### Структура проекта

```
FSA-AstraInstall/
├── README.md                    # Документация проекта
├── astra-automation.py          # Основной файл с GUI и автоматизацией
├── FINAL_SOLUTION/              # Решение для обновления Python
│   ├── install_python.sh       # Скрипт обновления Python + Tkinter
│   ├── diagnose_python.sh      # Диагностика проблем с Python
│   ├── README.md               # Документация решения Python
│   └── QUICK_GUIDE.md          # Краткая инструкция по Python
├── config/                     # Конфигурационные файлы
│   └── auto_responses.json     # Правила автоподтверждения запросов
├── automation/                 # Модули автоматизации
├── logs/                       # Логи выполнения
└── original_scripts/           # Оригинальные bash скрипты
```

### Решение проблемы Python/Tkinter

Для работы графического интерфейса сначала необходимо обновить Python:

#### Проблема
- Базовая версия Astra Linux имеет Python 2.7.16
- Для GUI нужен обновленный Python с Tkinter
- Репозитории Astra Linux недоступны извне (403 Forbidden)

#### Решение
- Скрипты для обновления Python через `apt-get` на Linux машине
- Автоматическая настройка репозиториев Astra Linux
- Установка Python 3 + Tkinter + все зависимости
- После обновления Python запускается графический интерфейс

### Использование

#### Полный процесс установки
```bash
# 1. Скопируйте проект на Astra Linux машину
# 2. Обновите Python (если нужно)
sudo bash FINAL_SOLUTION/install_python.sh

# 3. Запустите основную программу
sudo python astra-automation.py
```

#### Только обновление Python
```bash
# Если нужно только обновить Python
sudo bash FINAL_SOLUTION/install_python.sh

# Проверьте обновление
python3 --version
python3 -c "import tkinter; print('Tkinter работает!')"
```

#### Диагностика проблем
```bash
# Запустите диагностику
bash FINAL_SOLUTION/diagnose_python.sh
```

### Процесс автоматизации

1. **Проверка системы** - анализ текущего состояния
2. **Обновление Python** - если необходимо для GUI
3. **Запуск GUI** - графический интерфейс для управления
4. **Обновление системы** - из доступных репозиториев
5. **Автоподтверждение** - автоматические ответы на запросы
6. **Установка Wine** - для совместимости приложений
7. **Установка Astra.IDE** - среда разработки
8. **Завершение** - отчет о результатах

### Компоненты Python

Для работы GUI устанавливается:
- **python3** - обновленный интерпретатор
- **python3-dev** - заголовки для разработки
- **python3-pip** - менеджер пакетов
- **python3-setuptools** - инструменты сборки
- **python3-distutils** - инструменты дистрибуции
- **python3-tk** - Tkinter для GUI
- **python3-venv** - виртуальные окружения

### Автоподтверждение запросов

Система автоматически отвечает на запросы установщика:
- **dpkg** - подтверждение установки пакетов
- **apt** - согласие на загрузку и установку
- **Системные диалоги** - автоматические ответы
- **Конфликты зависимостей** - разрешение автоматически

### Устранение проблем

#### Репозитории недоступны
```bash
# Проверьте интернет соединение
ping google.com

# Обновите репозитории
sudo apt-get update
```

#### Python не обновляется
```bash
# Исправьте зависимости
sudo apt-get install -f

# Обновите вручную
sudo apt-get install python3
```

#### GUI не запускается
```bash
# Установите Tkinter
sudo apt-get install python3-tk

# Проверьте установку
python3 -c "import tkinter"
```

### Техническая информация

- **Целевая система**: Astra Linux 1.7 x86-64
- **Python версия**: 3.x (обновляется автоматически)
- **Архитектура**: amd64
- **Менеджер пакетов**: apt/dpkg
- **GUI библиотека**: tkinter (после обновления)
- **Устанавливаемые компоненты**: Wine, Astra.IDE

### Поддержка

Если у вас возникли проблемы:
1. Запустите диагностику: `bash FINAL_SOLUTION/diagnose_python.sh`
2. Проверьте логи: `sudo apt-get update`
3. Обратитесь к администратору системы
4. Проверьте документацию Astra Linux

### История проекта

- ✅ Создана автоматизированная система обновления
- ✅ Реализован графический интерфейс
- ✅ Решена проблема обновления Python/Tkinter
- ✅ Создано решение для автоподтверждения запросов
- ✅ Интегрирована установка Wine и Astra.IDE
- ✅ Проект очищен от тестовых файлов
- ✅ Документация обновлена под реальные задачи