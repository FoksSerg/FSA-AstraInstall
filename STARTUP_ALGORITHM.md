# –ê–õ–ì–û–†–ò–¢–ú –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–û–ì–û –ó–ê–ü–£–°–ö–ê FSA-AstraInstall

## üéØ –¶–ï–õ–¨
–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –¥–∞–∂–µ –Ω–∞ "—á–∏—Å—Ç–æ–º" Linux –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏ GUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

## üìã –ü–†–ò–ù–¶–ò–ü–´

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback**: GUI ‚Üí CONSOLE –µ—Å–ª–∏ –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å GUI
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–æ–≤ –≤–æ–∑–≤—Ä–∞—Ç–∞**: –†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
3. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –ø–∞–∫–µ—Ç–æ–≤ (python3-tk, python3-tkinter, tk)
4. **–ì–∞—Ä–∞–Ω—Ç–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: –°–∏—Å—Ç–µ–º–∞ –í–°–ï–ì–î–ê –æ–±–Ω–æ–≤–∏—Ç—Å—è, –¥–∞–∂–µ –µ—Å–ª–∏ GUI –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
5. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ GUI –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º GUI –ø–∞–∫–µ—Ç—ã

---

## üîÑ –≠–¢–ê–ü 1: –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø (bash: astra_install.sh)

### 1.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–∞–≤ root
```bash
if [ "$EUID" -ne 0 ]; then
    exec sudo -E bash "$0" "$@"
fi
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°–∫—Ä–∏–ø—Ç –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ø—Ä–∞–≤–∞–º–∏ root

### 1.2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
```bash
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–ª–∞–≥–∞ /var/run/fsa-time-synced
- timedatectl set-ntp true –ò–õ–ò ntpdate
- –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–ª–∞–≥–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏

### 1.3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
export DEBIAN_FRONTEND=noninteractive
export DEBIAN_PRIORITY=critical
export APT_LISTCHANGES_FRONTEND=none
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–¥–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (—É—Ä–æ–≤–µ–Ω—å 1)

### 1.4. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è dpkg
```bash
DPKG_OPTS="-o Dpkg::Options::=--force-confdef \
           -o Dpkg::Options::=--force-confold \
           -o Dpkg::Options::=--force-confmiss"
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –û–ø—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ apt-get (—É—Ä–æ–≤–µ–Ω—å 2)

### 1.5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
```bash
- Python 3 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω? (python3 --version)
- –í–µ—Ä—Å–∏—è Python >= 3.5?
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚ùå –ï—Å–ª–∏ Python –Ω–µ—Ç ‚Üí –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê, –≤—ã—Ö–æ–¥

---

## üîÑ –≠–¢–ê–ü 2: –û–ü–†–ï–î–ï–õ–ï–ù–ò–ï –†–ï–ñ–ò–ú–ê –ó–ê–ü–£–°–ö–ê (bash)

### 2.1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
```bash
if [ "--console" in "$@" ]; then
    CONSOLE_MODE=true  # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
    START_MODE="console_forced"
    ‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –∫ –≠–¢–ê–ü–£ 3B
fi
```

### 2.2. –§—É–Ω–∫—Ü–∏—è: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è tkinter
```bash
check_tkinter_available() {
    if python3 -c "import tkinter" 2>/dev/null; then
        return 0  # tkinter –¥–æ—Å—Ç—É–ø–µ–Ω
    else
        return 1  # tkinter –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
    fi
}
```

### 2.3. –§—É–Ω–∫—Ü–∏—è: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
```bash
check_repos_available() {
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—Å—Ç—å –ª–∏ —Ö–æ—Ç—å –æ–¥–∏–Ω –ù–ï-cdrom —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
    if grep -v "^#" /etc/apt/sources.list | \
       grep -v "cdrom:" | \
       grep "^deb" >/dev/null 2>&1; then
        return 0  # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å
    else
        return 1  # –¢–æ–ª—å–∫–æ cdrom –∏–ª–∏ –ø—É—Å—Ç–æ
    fi
}
```

### 2.4. –§—É–Ω–∫—Ü–∏—è: –ü–æ–∏—Å–∫ –ø–∞–∫–µ—Ç–∞ tkinter –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö
```bash
find_tkinter_package() {
    # –°–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –ø–∞–∫–µ—Ç–æ–≤
    TKINTER_PACKAGES=("python3-tk" "python3-tkinter" "tk")
    
    for pkg in "${TKINTER_PACKAGES[@]}"; do
        if apt-cache show "$pkg" >/dev/null 2>&1; then
            echo "$pkg"  # –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–≤—ã–π –Ω–∞–π–¥–µ–Ω–Ω—ã–π
            return 0
        fi
    done
    
    return 1  # –ù–∏ –æ–¥–∏–Ω –ø–∞–∫–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
}
```

### 2.5. –õ–û–ì–ò–ö–ê –í–´–ë–û–†–ê –†–ï–ñ–ò–ú–ê
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –ü—Ä–æ–≤–µ—Ä–∫–∞: check_tkinter_available()    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                ‚îÇ
       –î–ê               –ù–ï–¢
        ‚îÇ                ‚îÇ
        ‚ñº                ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  GUI  ‚îÇ    ‚îÇ –ü—Ä–æ–≤–µ—Ä–∫–∞: repos? ‚îÇ
    ‚îÇ READY ‚îÇ    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îò             ‚îÇ
        ‚îÇ         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ         ‚îÇ                ‚îÇ
        ‚îÇ        –î–ê               –ù–ï–¢
        ‚îÇ         ‚îÇ                ‚îÇ
        ‚îÇ         ‚ñº                ‚ñº
        ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ  ‚îÇ –ï—Å—Ç—å –ø–∞–∫–µ—Ç?  ‚îÇ  ‚îÇ   CONSOLE    ‚îÇ
        ‚îÇ  ‚îÇfind_tkinter()‚îÇ  ‚îÇ   FORCED     ‚îÇ
        ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ         ‚îÇ                 ‚îÇ
        ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
        ‚îÇ   ‚îÇ            ‚îÇ          ‚îÇ
        ‚îÇ  –î–ê           –ù–ï–¢         ‚îÇ
        ‚îÇ   ‚îÇ            ‚îÇ          ‚îÇ
        ‚îÇ   ‚ñº            ‚ñº          ‚îÇ
        ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
        ‚îÇ ‚îÇGUI ‚îÇ    ‚îÇCONSOLE ‚îÇ     ‚îÇ
        ‚îÇ ‚îÇ+TK ‚îÇ    ‚îÇFORCED  ‚îÇ     ‚îÇ
        ‚îÇ ‚îî‚îÄ‚î¨‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
        ‚îÇ   ‚îÇ           ‚îÇ          ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚îÇ
                    ‚ñº
            [–≠–¢–ê–ü 3A –∏–ª–∏ 3B]
```

### 2.6. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π START_MODE
```bash
START_MODE=""  # –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—É—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

if check_tkinter_available; then
    echo "[OK] tkinter –Ω–∞–π–¥–µ–Ω - –∑–∞–ø—É—Å–∫ GUI"
    START_MODE="gui_ready"
    
elif check_repos_available; then
    TKINTER_PKG=$(find_tkinter_package)
    if [ $? -eq 0 ]; then
        echo "[OK] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å, –ø–∞–∫–µ—Ç '$TKINTER_PKG' –Ω–∞–π–¥–µ–Ω"
        echo "[i] –£—Å—Ç–∞–Ω–æ–≤–∏–º tkinter –∏ –∑–∞–ø—É—Å—Ç–∏–º GUI"
        START_MODE="gui_install_first"
    else
        echo "[!] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å, –Ω–æ –ø–∞–∫–µ—Ç tkinter –Ω–µ –Ω–∞–π–¥–µ–Ω"
        echo "[i] –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º"
        START_MODE="console_forced"
        CONSOLE_MODE=true
    fi
else
    echo "[!] –ù–µ—Ç —Ä–∞–±–æ—á–∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ (—Ç–æ–ª—å–∫–æ cdrom)"
    echo "[i] –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º"
    echo "[i] –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã GUI –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω"
    START_MODE="console_forced"
    CONSOLE_MODE=true
fi
```

---

## üîÑ –≠–¢–ê–ü 3A: –£–°–¢–ê–ù–û–í–ö–ê GUI –ö–û–ú–ü–û–ù–ï–ù–¢–û–í (–µ—Å–ª–∏ START_MODE = gui_install_first)

### 3A.1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ –ø–∞–∫–µ—Ç–æ–≤
```bash
apt-get update -y 2>&1 | tee -a "$LOG_FILE"
EXIT_CODE=${PIPESTATUS[0]}
if [ $EXIT_CODE -ne 0 ]; then
    echo "[ERROR] –ù–µ —É–¥–∞–ª–æ—Å—å –æ–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–∫–∏ –ø–∞–∫–µ—Ç–æ–≤ (–∫–æ–¥: $EXIT_CODE)"
    echo "[i] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º"
    START_MODE="console_forced"
    CONSOLE_MODE=true
    ‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –∫ –≠–¢–ê–ü–£ 3B
fi
```

### 3A.2. –§—É–Ω–∫—Ü–∏—è: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ tkinter —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π
```bash
install_tkinter_with_verification() {
    local TKINTER_PACKAGES=("python3-tk" "python3-tkinter" "tk")
    local INSTALLED=false
    
    for pkg in "${TKINTER_PACKAGES[@]}"; do
        echo "[TRY] –ü—Ä–æ–±—É–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: $pkg"
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ø–∞–∫–µ—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö
        if ! apt-cache show "$pkg" >/dev/null 2>&1; then
            echo "[SKIP] –ü–∞–∫–µ—Ç $pkg –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö"
            continue
        fi
        
        echo "[INSTALL] –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º $pkg..."
        apt-get install -y $DPKG_OPTS "$pkg" 2>&1 | tee -a "$LOG_FILE"
        EXIT_CODE=${PIPESTATUS[0]}
        
        if [ $EXIT_CODE -eq 0 ]; then
            echo "[OK] –ü–∞–∫–µ—Ç $pkg —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–∫–æ–¥: 0)"
            
            # –ö–†–ò–¢–ò–ß–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ tkinter —Ç–µ–ø–µ—Ä—å –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è
            if python3 -c "import tkinter" 2>/dev/null; then
                echo "[OK] tkinter —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è!"
                INSTALLED=true
                break
            else
                echo "[WARNING] –ü–∞–∫–µ—Ç $pkg —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–æ tkinter –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è"
            fi
        else
            echo "[ERROR] –ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å $pkg (–∫–æ–¥: $EXIT_CODE)"
        fi
    done
    
    if [ "$INSTALLED" = true ]; then
        return 0
    else
        return 1
    fi
}
```

### 3A.3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pip3 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```bash
# pip3 –Ω–µ –∫—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è GUI, –Ω–æ –ø–æ–ª–µ–∑–µ–Ω
if ! pip3 --version >/dev/null 2>&1; then
    apt-get install -y $DPKG_OPTS python3-pip 2>&1 | tee -a "$LOG_FILE"
    # –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–¥ –≤–æ–∑–≤—Ä–∞—Ç–∞ - –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ
fi
```

### 3A.4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
apt-get install -f -y $DPKG_OPTS 2>&1 | tee -a "$LOG_FILE"
```

### 3A.5. –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º GUI
```bash
if ! python3 -c "import tkinter" 2>/dev/null; then
    echo "[ERROR] tkinter –≤—Å–µ –µ—â–µ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏"
    echo "[i] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º"
    START_MODE="console_forced"
    CONSOLE_MODE=true
    ‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –∫ –≠–¢–ê–ü–£ 3B
fi

echo "[OK] –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã GUI –≥–æ—Ç–æ–≤—ã"
‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –∫ –≠–¢–ê–ü–£ 4 (–ó–∞–ø—É—Å–∫ Python)
```

---

## üîÑ –≠–¢–ê–ü 3B: –ü–†–û–ü–£–°–ö –£–°–¢–ê–ù–û–í–ö–ò GUI (–µ—Å–ª–∏ START_MODE = console_forced)

```bash
echo ""
echo "[*] –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º - GUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±—É–¥—É—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ü–û–°–õ–ï –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è"
echo "[i] –ü—Ä–∏—á–∏–Ω–∞: –Ω–µ—Ç —Ä–∞–±–æ—á–∏—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏–ª–∏ tkinter –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω"
echo ""
‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –∫ –≠–¢–ê–ü–£ 4 (–ó–∞–ø—É—Å–∫ Python –≤ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ)
```

---

## üîÑ –≠–¢–ê–ü 4: –ó–ê–ü–£–°–ö PYTHON –°–ö–†–ò–ü–¢–ê (bash)

### 4.1. –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
```bash
PYTHON_ARGS="--log-file $LOG_FILE"

if [ "$CONSOLE_MODE" = true ]; then
    PYTHON_ARGS="$PYTHON_ARGS --console"
fi

if [ "$DRY_RUN" = true ]; then
    PYTHON_ARGS="$PYTHON_ARGS --dry-run"
fi
```

### 4.2. –ó–∞–ø—É—Å–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞
```bash
if [ "$CONSOLE_MODE" = true ]; then
    # –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º - –∑–∞–ø—É—Å–∫ –≤ —Ç–µ–∫—É—â–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
    python3 astra_automation.py $PYTHON_ARGS
    PYTHON_EXIT_CODE=$?
    
else
    # GUI —Ä–µ–∂–∏–º - –∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ —Å –∞–≤—Ç–æ–∑–∞–∫—Ä—ã—Ç–∏–µ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
    TERM_PID=$(ps -o ppid= -p $PPID | tr -d ' ')
    nohup python3 astra_automation.py $PYTHON_ARGS \
          --close-terminal "$TERM_PID" >/dev/null 2>&1 &
    PYTHON_EXIT_CODE=0
fi

exit $PYTHON_EXIT_CODE
```

---

## üîÑ –≠–¢–ê–ü 5: PYTHON - –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø (astra_automation.py)

### 5.1. –ü–∞—Ä—Å–∏–Ω–≥ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
```python
parser = argparse.ArgumentParser()
parser.add_argument('--console', action='store_true')
parser.add_argument('--dry-run', action='store_true')
parser.add_argument('--log-file', type=str)
parser.add_argument('--close-terminal', type=str)
args = parser.parse_args()
```

### 5.2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ tkinter (–¥–ª—è GUI —Ä–µ–∂–∏–º–∞)
```python
if not args.console:
    try:
        import tkinter
        gui_available = True
    except ImportError:
        print("[WARNING] GUI –∑–∞–ø—Ä–æ—à–µ–Ω, –Ω–æ tkinter –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω")
        print("[INFO] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º")
        args.console = True
        gui_available = False
```

### 5.3. –í—ã–±–æ—Ä –ø—É—Ç–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
```python
if args.console:
    ‚Üí –≠–¢–ê–ü 6 (–ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º)
else:
    ‚Üí –≠–¢–ê–ü 7 (GUI —Ä–µ–∂–∏–º)
```

---

## üîÑ –≠–¢–ê–ü 6: PYTHON - –ö–û–ù–°–û–õ–¨–ù–´–ô –†–ï–ñ–ò–ú

### 6.1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
```python
print("\n[REPOS] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤...")
print("[i] –û—Ç–∫–ª—é—á–∞–µ–º cdrom —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏")
print("[i] –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—á–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏")

# Bash —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–∏–ª —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –ø—Ä–æ—Å—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∏—Ä—É–µ–º
```

### 6.2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
```python
updater = SystemUpdater()

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤
if not updater.check_system_resources():
    print("[ERROR] –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—Å—É—Ä—Å–æ–≤")
    sys.exit(1)

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
print("\n[UPDATE] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã...")
update_success = updater.update_system(args.dry_run)

if not update_success:
    print("[ERROR] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∑–∞–≤–µ—Ä—à–∏–ª–æ—Å—å —Å –æ—à–∏–±–∫–∞–º–∏")
    sys.exit(1)
```

### 6.3. –ö–†–ò–¢–ò–ß–ù–û: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ GUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ü–û–°–õ–ï –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
```python
print("\n" + "="*60)
print("[POST-UPDATE] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ GUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è")
print("="*60)

# –¢–µ–ø–µ—Ä—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ —Ç–æ—á–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç!
gui_success = install_gui_components_post_update()

if gui_success:
    print("[OK] GUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã")
    print("[i] –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å GUI: ./astra_install.sh")
else:
    print("[WARNING] –ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å GUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã")
    print("[i] GUI –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω")
```

### 6.4. –§—É–Ω–∫—Ü–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ GUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```python
def install_gui_components_post_update():
    """–£—Å—Ç–∞–Ω–æ–≤–∫–∞ tkinter –∏ pip3 –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã"""
    import subprocess
    
    print("\n[GUI-INSTALL] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ python3-tk...")
    
    # –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤
    tkinter_packages = ['python3-tk', 'python3-tkinter', 'tk']
    tkinter_installed = False
    
    for pkg in tkinter_packages:
        print(f"[TRY] –ü—Ä–æ–±—É–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: {pkg}")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö
        check_result = subprocess.run(
            ['apt-cache', 'show', pkg],
            capture_output=True,
            timeout=10
        )
        
        if check_result.returncode != 0:
            print(f"[SKIP] –ü–∞–∫–µ—Ç {pkg} –Ω–µ –Ω–∞–π–¥–µ–Ω")
            continue
        
        # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º
        install_result = subprocess.run(
            ['apt-get', 'install', '-y',
             '-o', 'Dpkg::Options::=--force-confdef',
             '-o', 'Dpkg::Options::=--force-confold',
             '-o', 'Dpkg::Options::=--force-confmiss',
             pkg],
            env={**os.environ, 
                 'DEBIAN_FRONTEND': 'noninteractive',
                 'DEBIAN_PRIORITY': 'critical',
                 'APT_LISTCHANGES_FRONTEND': 'none'},
            capture_output=True,
            timeout=300
        )
        
        if install_result.returncode == 0:
            print(f"[OK] –ü–∞–∫–µ—Ç {pkg} —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")
            
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–º–ø–æ—Ä—Ç
            try:
                import tkinter
                print("[OK] tkinter —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è!")
                tkinter_installed = True
                break
            except ImportError:
                print(f"[WARNING] –ü–∞–∫–µ—Ç {pkg} —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–æ tkinter –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è")
        else:
            print(f"[ERROR] –ù–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å {pkg}")
    
    # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ pip3 (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
    print("\n[GUI-INSTALL] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ python3-pip...")
    subprocess.run(
        ['apt-get', 'install', '-y',
         '-o', 'Dpkg::Options::=--force-confdef',
         '-o', 'Dpkg::Options::=--force-confold',
         '-o', 'Dpkg::Options::=--force-confmiss',
         'python3-pip'],
        env={**os.environ,
             'DEBIAN_FRONTEND': 'noninteractive',
             'DEBIAN_PRIORITY': 'critical',
             'APT_LISTCHANGES_FRONTEND': 'none'},
        capture_output=True,
        timeout=300
    )
    
    return tkinter_installed
```

### 6.5. –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
```python
print("\n" + "="*60)
print("–û–ë–ù–û–í–õ–ï–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û!")
print("="*60)
print(f"[OK] –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞: {update_success}")
print(f"[OK] GUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: {gui_success}")
print("\n[NEXT] –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:")
print("  1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è GUI: ./astra_install.sh")
print("  2. –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Wine: ./astra_install.sh --console (+ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Wine)")
print("="*60)
```

---

## üîÑ –≠–¢–ê–ü 7: PYTHON - GUI –†–ï–ñ–ò–ú

### 7.1. –ò–º–ø–æ—Ä—Ç tkinter (—É–∂–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ –≠–¢–ê–ü–ï 5.2)
```python
import tkinter as tk
from tkinter import ttk
```

### 7.2. –ó–∞–ø—É—Å–∫ GUI
```python
gui = AutomationGUI(
    root=tk.Tk(),
    close_terminal_pid=args.close_terminal
)

# –ó–∞–∫—Ä—ã—Ç–∏–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
if args.close_terminal:
    gui.root.after(2000, gui._close_parent_terminal)

# –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–∫–Ω–∞
gui.center_window()

# –ó–∞–ø—É—Å–∫ –≥–ª–∞–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞
gui.root.mainloop()
```

### 7.3. GUI —Ä–∞–±–æ—Ç–∞
```
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —á–µ—Ä–µ–∑ GUI
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Wine/Astra.IDE —á–µ—Ä–µ–∑ GUI
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏ —á–µ—Ä–µ–∑ GUI
```

---

## üìä –ë–õ–û–ö-–°–•–ï–ú–ê –ü–û–õ–ù–û–ì–û –ê–õ–ì–û–†–ò–¢–ú–ê

```
START (bash)
    ‚Üì
[1] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    - root –ø—Ä–∞–≤–∞ ‚úì
    - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–∏ ‚úì
    - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚úì
    - Python 3 –ø—Ä–æ–≤–µ—Ä–∫–∞ ‚úì
    ‚Üì
[2] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ–∂–∏–º–∞
    ‚Üì
    ‚îú‚îÄ‚Üí --console –∞—Ä–≥—É–º–µ–Ω—Ç? ‚Üí YES ‚Üí [6] CONSOLE MODE
    ‚îÇ                          NO ‚Üì
    ‚îú‚îÄ‚Üí tkinter –¥–æ—Å—Ç—É–ø–µ–Ω? ‚Üí YES ‚Üí [7] GUI MODE
    ‚îÇ                       NO ‚Üì
    ‚îú‚îÄ‚Üí –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å? ‚Üí NO ‚Üí [6] CONSOLE MODE (forced)
    ‚îÇ                       YES ‚Üì
    ‚îú‚îÄ‚Üí tkinter –ø–∞–∫–µ—Ç –Ω–∞–π–¥–µ–Ω? ‚Üí NO ‚Üí [6] CONSOLE MODE (forced)
    ‚îÇ                           YES ‚Üì
    ‚îÇ                              [3A] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ tkinter
    ‚îÇ                                   ‚Üì
    ‚îÇ                              tkinter —Ä–∞–±–æ—Ç–∞–µ—Ç? ‚Üí NO ‚Üí [6] CONSOLE
    ‚îÇ                                   YES ‚Üì
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí [7] GUI MODE

[6] CONSOLE MODE (Python)
    ‚Üì
    [6.1] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤
    ‚Üì
    [6.2] apt-get update
    ‚Üì
    [6.3] apt-get dist-upgrade
    ‚Üì
    [6.4] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ python3-tk, pip3 (–ü–û–°–õ–ï –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è!)
    ‚Üì
    [6.5] apt-get autoremove
    ‚Üì
    [6.6] –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
    ‚Üì
    SUCCESS - –°–∏—Å—Ç–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ + GUI –≥–æ—Ç–æ–≤

[7] GUI MODE (Python)
    ‚Üì
    [7.1] import tkinter ‚úì
    ‚Üì
    [7.2] –ó–∞–ø—É—Å–∫ GUI
    ‚Üì
    [7.3] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–º
    ‚Üì
    SUCCESS - –ü–æ –≤—ã–±–æ—Ä—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

---

## ‚úÖ –ì–ê–†–ê–ù–¢–ò–ò –ê–õ–ì–û–†–ò–¢–ú–ê

### 1. **–°–∏—Å—Ç–µ–º–∞ –í–°–ï–ì–î–ê –æ–±–Ω–æ–≤–∏—Ç—Å—è**
- –î–∞–∂–µ –µ—Å–ª–∏ GUI –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
- –î–∞–∂–µ –µ—Å–ª–∏ –Ω–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ
- –î–∞–∂–µ –µ—Å–ª–∏ tkinter –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

### 2. **GUI –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞**
- –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –æ–±–Ω–æ–≤–∏—Ç —Å–∏—Å—Ç–µ–º—É
- –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –Ω–∞—Å—Ç—Ä–æ–∏—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç tkinter
- –í—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å–∫ ‚Üí GUI —Ä–∞–±–æ—Ç–∞–µ—Ç

### 3. **–ù–µ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏—è –Ω–∞ –∑–∞–ø—Ä–æ—Å–∞—Ö**
- –£—Ä–æ–≤–µ–Ω—å 1: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –£—Ä–æ–≤–µ–Ω—å 2: –û–ø—Ü–∏–∏ dpkg
- –£—Ä–æ–≤–µ–Ω—å 3: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ (20 —Å—Ç—Ä–æ–∫ –±—É—Ñ–µ—Ä)
- –£—Ä–æ–≤–µ–Ω—å 4: –†—É—Å—Å–∫–∏–π + –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### 4. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞**
- –ü–æ–Ω—è—Ç–Ω—ã–µ –ª–æ–≥–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥–µ
- –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω —Ä–µ–∂–∏–º
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–ª–µ–¥—É—é—â–∏—Ö —à–∞–≥–∞—Ö
- –ö–æ–¥—ã –≤–æ–∑–≤—Ä–∞—Ç–∞ –¥–ª—è –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### 5. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å**
- –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Debian, Ubuntu, Astra Linux, Mint
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ python3-tk, python3-tkinter, tk
- –†–∞–±–æ—Ç–∞ —Å cdrom –∏ network —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏
- –†—É—Å—Å–∫–∏–π –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

---

## üîß –ö–õ–Æ–ß–ï–í–´–ï –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –ú–û–ú–ï–ù–¢–´

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —á–µ—Ä–µ–∑ pipe
```bash
apt-get install -y package 2>&1 | tee -a "$LOG_FILE"
EXIT_CODE=${PIPESTATUS[0]}  # –ö–æ–¥ apt-get, –ù–ï tee!

if [ $EXIT_CODE -ne 0 ]; then
    echo "[ERROR] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å (–∫–æ–¥: $EXIT_CODE)"
fi
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª—è
```bash
# Bash
if python3 -c "import tkinter" 2>/dev/null; then
    echo "tkinter –¥–æ—Å—Ç—É–ø–µ–Ω"
fi

# Python
try:
    import tkinter
    available = True
except ImportError:
    available = False
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–∞
```bash
if apt-cache show "package-name" >/dev/null 2>&1; then
    # –ü–∞–∫–µ—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è—Ö
    apt-get install -y package-name
else
    # –ü–∞–∫–µ—Ç–∞ –Ω–µ—Ç
fi
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –≤ Python
```python
if not args.console:
    try:
        import tkinter
    except ImportError:
        print("[AUTO] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º")
        args.console = True
```

---

## üìù –ü–û–†–Ø–î–û–ö –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

1. ‚úÖ **–°–æ–∑–¥–∞—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç** (STARTUP_ALGORITHM.md)
2. ‚è≥ **–°–æ–∑–¥–∞—Ç—å —Å–Ω–∏–º–æ–∫ (–∫–æ–º–º–∏—Ç)** —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
3. ‚è≥ **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å bash —Ñ—É–Ω–∫—Ü–∏–∏** (check_repos, find_tkinter, install_tkinter)
4. ‚è≥ **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞** –≤ bash
5. ‚è≥ **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∫–æ–¥–æ–≤ –≤–æ–∑–≤—Ä–∞—Ç–∞** –≤ bash
6. ‚è≥ **–î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback** –≤ Python
7. ‚è≥ **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å install_gui_components_post_update()** –≤ Python
8. ‚è≥ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ "—á–∏—Å—Ç–æ–º" Astra Linux**
9. ‚è≥ **–§–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–º–∏—Ç** —Å —Ä–∞–±–æ—á–∏–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º

---

## üéØ –û–ñ–ò–î–ê–ï–ú–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ß–∏—Å—Ç—ã–π Astra Linux (—Ç–æ–ª—å–∫–æ cdrom)**
```
1. –ó–∞–ø—É—Å–∫: ./astra_install.sh
2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: –ù–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ + –Ω–µ—Ç tkinter ‚Üí CONSOLE MODE
3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –≤ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ
4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ GUI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
5. –°–æ–æ–±—â–µ–Ω–∏–µ: "–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –¥–ª—è GUI: ./astra_install.sh"
6. –í—Ç–æ—Ä–æ–π –∑–∞–ø—É—Å–∫: GUI —Ä–∞–±–æ—Ç–∞–µ—Ç!
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –°–∏—Å—Ç–µ–º–∞ —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏, –Ω–æ –±–µ–∑ tkinter**
```
1. –ó–∞–ø—É—Å–∫: ./astra_install.sh
2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å + –ø–∞–∫–µ—Ç –Ω–∞–π–¥–µ–Ω ‚Üí –£—Å—Ç–∞–Ω–æ–≤–∫–∞ tkinter
3. –ü—Ä–æ–≤–µ—Ä–∫–∞: tkinter —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úì
4. –ó–∞–ø—É—Å–∫ GUI —Ä–µ–∂–∏–º–∞
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–ø—Ä–∞–≤–ª—è–µ—Ç —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**
```
1. –ó–∞–ø—É—Å–∫: ./astra_install.sh
2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ: tkinter –¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí GUI MODE
3. –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—É—Å–∫ GUI
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–ø—Ä–∞–≤–ª—è–µ—Ç —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 4: –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º**
```
1. –ó–∞–ø—É—Å–∫: ./astra_install.sh --console
2. –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ tkinter
3. –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –≤—Å–µ–≥–¥–∞
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑ GUI
```

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 2025-10-05*  
*–í–µ—Ä—Å–∏—è: 1.0*  
*–ü—Ä–æ–µ–∫—Ç: FSA-AstraInstall*

