# üìã –î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê: –ú–ò–ì–†–ê–¶–ò–Ø –ù–ê –ê–†–•–ò–¢–ï–ö–¢–£–†–£ COMPONENT HANDLERS
**–í–µ—Ä—Å–∏—è: V2.4.102 (2025.11.05)**
**–ö–æ–º–ø–∞–Ω–∏—è: –û–û–û "–ù–ü–ê –í–∏—Ä–∞-–†–µ–∞–ª—Ç–∞–π–º"**

# –°—Ç–∞—Ç—É—Å: –î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

## üéØ –¶–ï–õ–ò –ò –ó–ê–î–ê–ß–ò –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏:
1. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç** - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –õ–Æ–ë–´–• –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ Linux
2. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ handlers
3. **–£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞** - —É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–π –ª–æ–≥–∏–∫–∏ (~2037 —Å—Ç—Ä–æ–∫)
4. **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è** - –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ handlers
5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã, –ø—Ä–æ—Ü–µ—Å—Å—ã, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
6. **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** - –¥–µ—Ä–µ–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
7. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (–¥–∏—Å–∫, —Å–µ—Ç—å, CPU, –≤—Ä–µ–º—è)
8. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –º–∏–≥—Ä–∞—Ü–∏—è –±–µ–∑ –ª–æ–º–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:
- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è/—É–¥–∞–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ handlers
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≤—Å–µ –∫–∞–Ω–∞–ª—ã (—Ñ–∞–π–ª, —Ç–µ—Ä–º–∏–Ω–∞–ª, GUI)
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª –ø—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ

---

## üèóÔ∏è –ê–†–•–ò–¢–ï–ö–¢–£–†–ù–ê–Ø –°–•–ï–ú–ê

### –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         AUTOMATIONGUI (GUI)                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÇ
‚îÇ  ‚îÇ –í–∫–ª–∞–¥–∫–∞ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ"‚îÇ  ‚îÇ –í–∫–ª–∞–¥–∫–∞ "Wine & IDE"‚îÇ  ‚îÇ –í–∫–ª–∞–¥–∫–∞ "–¢–µ—Ä–º–∏–Ω–∞–ª"‚îÇ ‚îÇ
‚îÇ  ‚îÇ                   ‚îÇ  ‚îÇ                   ‚îÇ  ‚îÇ                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã]‚îÇ  ‚îÇ [–¢–∞–±–ª–∏—Ü–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤]‚îÇ  ‚îÇ [–õ–æ–≥ –æ–ø–µ—Ä–∞—Ü–∏–π]    ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                   ‚îÇ  ‚îÇ                   ‚îÇ  ‚îÇ                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã:    ‚îÇ  ‚îÇ –î–µ—Ä–µ–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:‚îÇ  ‚îÇ –í—ã–≤–æ–¥:           ‚îÇ ‚îÇ
‚îÇ  ‚îÇ - –ó–∞–≥—Ä—É–∑–∫–∞        ‚îÇ  ‚îÇ - –°—Ç–∞—Ç—É—Å—ã         ‚îÇ  ‚îÇ - RAW –ø–æ—Ç–æ–∫       ‚îÇ ‚îÇ
‚îÇ  ‚îÇ - –†–∞—Å–ø–∞–∫–æ–≤–∫–∞      ‚îÇ  ‚îÇ - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏     ‚îÇ  ‚îÇ - ANALYSIS –ø–æ—Ç–æ–∫ ‚îÇ ‚îÇ
‚îÇ  ‚îÇ - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è    ‚îÇ  ‚îÇ - –ü—Ä–æ–≥—Ä–µ—Å—Å        ‚îÇ  ‚îÇ                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ                   ‚îÇ  ‚îÇ                   ‚îÇ  ‚îÇ                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:       ‚îÇ  ‚îÇ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:       ‚îÇ  ‚îÇ                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ - –í—Ä–µ–º—è           ‚îÇ  ‚îÇ - –í—Ä–µ–º—è           ‚îÇ  ‚îÇ                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ - –î–∏—Å–∫            ‚îÇ  ‚îÇ - –î–∏—Å–∫            ‚îÇ  ‚îÇ                   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ - –°–µ—Ç—å            ‚îÇ  ‚îÇ - –°–µ—Ç—å            ‚îÇ  ‚îÇ                   ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ              ‚îÇ
                              ‚ñº              ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ     UniversalProcessRunner (–≥–ª–æ–±–∞–ª—å–Ω—ã–π)      ‚îÇ
        ‚îÇ  - –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (subprocess.run)         ‚îÇ
        ‚îÇ  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (log_info/log_error)         ‚îÇ
        ‚îÇ  - –ü–µ—Ä–µ—Ö–≤–∞—Ç print() –∏ subprocess             ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ       DualStreamLogger (–≥–ª–æ–±–∞–ª—å–Ω—ã–π)          ‚îÇ
        ‚îÇ  - RAW –ø–æ—Ç–æ–∫ (–Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –≤—ã–≤–æ–¥)        ‚îÇ
        ‚îÇ  - ANALYSIS –ø–æ—Ç–æ–∫ (–ø–∞—Ä—Å–∏–Ω–≥, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞)      ‚îÇ
        ‚îÇ  - –ë—É—Ñ–µ—Ä—ã –≤ –ø–∞–º—è—Ç–∏ + —Ñ–∞–π–ª–æ–≤–∞—è –∑–∞–ø–∏—Å—å        ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ    UniversalProgressManager (–≥–ª–æ–±–∞–ª—å–Ω—ã–π)     ‚îÇ
        ‚îÇ  - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–ª—è –í–°–ï–• –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ ‚îÇ
        ‚îÇ  - process_type: 'system_update' | 'wine_install' ‚îÇ
        ‚îÇ  - –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ GUI                ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ                     ‚îÇ                     ‚îÇ
        ‚ñº                     ‚ñº                     ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  SystemUpdater   ‚îÇ  ‚îÇ UniversalInstaller‚îÇ  ‚îÇ  (–¥—Ä—É–≥–∏–µ –º–æ–¥—É–ª–∏)  ‚îÇ
‚îÇ                  ‚îÇ  ‚îÇ                  ‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã‚îÇ  ‚îÇ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ (apt-get)        ‚îÇ  ‚îÇ (Wine, winetricks)‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ                  ‚îÇ  ‚îÇ                  ‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç:      ‚îÇ  ‚îÇ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç:      ‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ - SystemUpdateParser‚îÇ  ‚îÇ - ComponentStatusManager‚îÇ ‚îÇ                  ‚îÇ
‚îÇ   (–ø–∞—Ä—Å–∏—Ç apt-get)‚îÇ  ‚îÇ   (—Å—Ç–∞—Ç—É—Å—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)‚îÇ ‚îÇ                  ‚îÇ
‚îÇ                  ‚îÇ  ‚îÇ                  ‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ –ü—Ä–æ–≥—Ä–µ—Å—Å —á–µ—Ä–µ–∑:  ‚îÇ  ‚îÇ –ü—Ä–æ–≥—Ä–µ—Å—Å —á–µ—Ä–µ–∑:  ‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ UniversalProgressMgr‚îÇ  ‚îÇ UniversalProgressMgr‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ process_type:    ‚îÇ  ‚îÇ process_type:    ‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ 'system_update'  ‚îÇ  ‚îÇ 'wine_install'   ‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ                  ‚îÇ  ‚îÇ                  ‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:       ‚îÇ  ‚îÇ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:       ‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ - –í—Ä–µ–º—è           ‚îÇ  ‚îÇ - –í—Ä–µ–º—è           ‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ - –î–∏—Å–∫            ‚îÇ  ‚îÇ - –î–∏—Å–∫            ‚îÇ  ‚îÇ                  ‚îÇ
‚îÇ - –°–µ—Ç—å (—á–µ—Ä–µ–∑ –ø–∞—Ä—Å–µ—Ä)‚îÇ ‚îÇ - –°–µ—Ç—å (—á–µ—Ä–µ–∑ –º–æ–Ω–∏—Ç–æ—Ä)‚îÇ ‚îÇ                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ    ComponentStatusManager (–û–¢–î–ï–õ–¨–ù–´–ô!)        ‚îÇ
        ‚îÇ  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤         ‚îÇ
        ‚îÇ  - pending ‚Üí installing ‚Üí ok/error          ‚îÇ
        ‚îÇ  - –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã!  ‚îÇ
        ‚îÇ                                             ‚îÇ
        ‚îÇ  –ú–µ—Ç–æ–¥—ã:                                    ‚îÇ
        ‚îÇ  - update_component_status(id, status)       ‚îÇ
        ‚îÇ  - get_all_components_status()              ‚îÇ
        ‚îÇ  - sync_with_wine_checker()                 ‚îÇ
        ‚îÇ                                             ‚îÇ
        ‚îÇ  –û–±–ª–∞—Å—Ç—å: –¢–û–õ–¨–ö–û –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ COMPONENTS_CONFIG‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                              ‚îÇ
                              ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ        UniversalInstaller                    ‚îÇ
        ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
        ‚îÇ  ‚îÇ  –†–µ–µ—Å—Ç—Ä handlers:                     ‚îÇ   ‚îÇ
        ‚îÇ  ‚îÇ  - WinePackageHandler                  ‚îÇ   ‚îÇ
        ‚îÇ  ‚îÇ  - WineEnvironmentHandler              ‚îÇ   ‚îÇ
        ‚îÇ  ‚îÇ  - WinetricksHandler                   ‚îÇ   ‚îÇ
        ‚îÇ  ‚îÇ  - SystemConfigHandler                 ‚îÇ   ‚îÇ
        ‚îÇ  ‚îÇ  - ApplicationHandler                 ‚îÇ   ‚îÇ
        ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
        ‚îÇ                                             ‚îÇ
        ‚îÇ  –ò—Å–ø–æ–ª—å–∑—É–µ—Ç ComponentStatusManager –¥–ª—è:     ‚îÇ
        ‚îÇ  - –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –≤–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏   ‚îÇ
        ‚îÇ  - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ GUI              ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:

#### 1. ComponentStatusManager (–û–¢–î–ï–õ–¨–ù–´–ô –ö–õ–ê–°–°)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–∑ COMPONENTS_CONFIG
- **–°—Ç–∞—Ç—É—Å—ã:** `pending`, `installing`, `removing`, `ok`, `error`
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** –¢–æ–ª—å–∫–æ UniversalInstaller –∏ handlers
- **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** SystemUpdater (–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã)
- **–û–±–ª–∞—Å—Ç—å:** –¢–û–õ–¨–ö–û –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ COMPONENTS_CONFIG

#### 2. UniversalProgressManager (–û–ë–©–ò–ô –ö–õ–ê–°–°)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–ª—è –í–°–ï–• –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- **–¢–∏–ø—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:** `system_update`, `wine_install`, `general`
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:** SystemUpdater, UniversalInstaller, handlers
- **–û–±–ª–∞—Å—Ç—å:** –í–°–ï –ø—Ä–æ—Ü–µ—Å—Å—ã –≤ —Å–∏—Å—Ç–µ–º–µ

#### 3. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö:
```
SystemUpdater ‚Üí SystemUpdateParser ‚Üí UniversalProgressManager ‚Üí GUI
    (process_type='system_update')

UniversalInstaller ‚Üí Handler ‚Üí ComponentStatusManager ‚Üí GUI
                    ‚Üì
              UniversalProgressManager ‚Üí GUI
    (process_type='wine_install')
```

---

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã:

#### 1. –ö–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ë–£–î–£–¢ –£–î–ê–õ–ï–ù–´:
- **`WineInstaller`** (—Å—Ç—Ä–æ–∫–∏ 2342-3815, ~1550 —Å—Ç—Ä–æ–∫)
  - –ú–µ—Ç–æ–¥—ã: `install_wine_packages()`, `setup_wine_environment()`, `_ensure_wineprefix_architecture()`, `install_winetricks_components()`, `install_astra_ide()`, `create_start_script()`, `create_desktop_shortcut()`
  
- **`WineUninstaller`** (—Å—Ç—Ä–æ–∫–∏ 4358-4759, ~487 —Å—Ç—Ä–æ–∫)
  - –ú–µ—Ç–æ–¥—ã: `remove_wine_packages()`, `remove_wineprefix()`, `remove_ide()`, `remove_all_wine_data()`

#### 2. –ö–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –û–°–¢–ê–ù–£–¢–°–Ø (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π):
- **`WinetricksManager`** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è handlers
- **`MinimalWinetricks`** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è WinetricksManager
- **`WineComponentsChecker`** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–æ—Å—Ç–∞–µ—Ç—Å—è)
- **`UniversalProcessRunner`** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è handlers
- **`DualStreamLogger`** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è handlers
- **`SystemUpdater`** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (–æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- **`SystemUpdateParser`** - –ø–∞—Ä—Å–∏–Ω–≥ apt-get (–æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)

#### 3. –ö–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ë–£–î–£–¢ –ú–û–î–ò–§–ò–¶–ò–†–û–í–ê–ù–´:
- **`UniversalInstaller`** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ handlers, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ComponentStatusManager
- **`ComponentStatusManager`** - —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω—É–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ UniversalInstaller
- **`UniversalProgressManager`** - —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- **`AutomationGUI`** - —É–ª—É—á—à–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### 4. –ö–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ë–£–î–£–¢ –î–û–ë–ê–í–õ–ï–ù–´:
- **`ComponentHandler`** - –±–∞–∑–æ–≤—ã–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å
- **`WinePackageHandler`** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ Wine –ø–∞–∫–µ—Ç–æ–≤
- **`WineEnvironmentHandler`** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ Wine –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **`WinetricksHandler`** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ winetricks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **`SystemConfigHandler`** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **`ApplicationHandler`** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (Astra.IDE)
- **`UniversalMonitor`** - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üîç –î–ï–¢–ê–õ–¨–ù–ê–Ø –ü–†–û–†–ê–ë–û–¢–ö–ê –ö–û–ú–ü–û–ù–ï–ù–¢–û–í

### 1. ComponentStatusManager (–°–£–©–ï–°–¢–í–£–ï–¢, –ù–£–ñ–ù–ê –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω –≤ GUI: `self.component_status_manager = ComponentStatusManager(callback=self._component_status_callback)`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ GUI: `_update_wine_status()` –≤—ã–∑—ã–≤–∞–µ—Ç `get_all_components_status()`
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ UniversalInstaller

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –ü–µ—Ä–µ–¥–∞—Ç—å ComponentStatusManager –≤ UniversalInstaller
2. –û–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã –≤ handlers:
   - `pending` - –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π (–∫–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±—Ä–∞–Ω)
   - `installing` - –≤–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
   - `ok`/`error` - –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
3. –û–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å ComponentStatusManager:**
```python
class ComponentStatusManager:
    def update_component_status(self, component_id, status):
        # status: 'pending', 'installing', 'removing', 'ok', 'error'
        # –û–±–Ω–æ–≤–ª—è–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –≤—ã–∑—ã–≤–∞–µ—Ç callback
    
    def get_all_components_status(self):
        # –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç dict: {component_id: (status_text, status_tag)}
        # status_text: '[OK]', '[–û–∂–∏–¥–∞–Ω–∏–µ]', '[–£—Å—Ç–∞–Ω–æ–≤–∫–∞]', '[---]'
        # status_tag: 'ok', 'pending', 'installing', 'missing'
    
    def sync_with_wine_checker(self, wine_checker):
        # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å WineComponentsChecker
```

### 2. UniversalProgressManager (–°–£–©–ï–°–¢–í–£–ï–¢, –ò–°–ü–û–õ–¨–ó–£–ï–¢–°–Ø)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω –≤ SystemUpdater: `self.universal_progress_manager = UniversalProgressManager(...)`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã: `process_type='system_update'`
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ UniversalInstaller –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞—Ç—å UniversalProgressManager –≤ GUI –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–∑ GUI
2. –ü–µ—Ä–µ–¥–∞—Ç—å –≤ UniversalInstaller
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ handlers —Å `process_type='wine_install'`
4. –†–∞–∑–ª–∏—á–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–æ `process_type`:
   - `'system_update'` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã (SystemUpdater)
   - `'wine_install'` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (UniversalInstaller)

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å UniversalProgressManager:**
```python
class UniversalProgressManager:
    def update_progress(self, process_type, stage_name, stage_progress, global_progress, details="", **kwargs):
        # process_type: 'system_update' | 'wine_install' | 'general'
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ GUI —á–µ—Ä–µ–∑ callback
```

### 3. ComponentHandler (–ù–û–í–´–ô –ë–ê–ó–û–í–´–ô –ö–õ–ê–°–°)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö handlers –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
```python
class ComponentHandler(ABC):
    def __init__(self, 
                 astrapack_dir=None,
                 logger=None,
                 callback=None,
                 universal_runner=None,
                 progress_manager=None,
                 dual_logger=None,
                 status_manager=None):  # –ù–û–í–û–ï: ComponentStatusManager
    
    @abstractmethod
    def install(self, component_id: str, config: dict) -> bool:
        """–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞"""
        # –î–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å—ã —á–µ—Ä–µ–∑ status_manager:
        # 1. status_manager.update_component_status(component_id, 'installing')
        # 2. –í—ã–ø–æ–ª–Ω–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
        # 3. status_manager.update_component_status(component_id, 'ok' –∏–ª–∏ 'error')
    
    @abstractmethod
    def uninstall(self, component_id: str, config: dict) -> bool:
        """–£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞"""
        # –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ install, –Ω–æ —Å 'removing' –∏ 'missing'
    
    @abstractmethod
    def check_status(self, component_id: str, config: dict) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞"""
    
    @abstractmethod
    def get_category(self) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤"""
```

**–ú–µ—Ç–æ–¥—ã –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞:**
- `_log()` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ UniversalProcessRunner –∏ DualStreamLogger
  - –í–ê–ñ–ù–û: handlers —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º–æ–π `print()` - –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ `universal_print` ‚Üí DualStreamLogger
- `_update_progress()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —á–µ—Ä–µ–∑ UniversalProgressManager
- `_run_process()` - –∑–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —á–µ—Ä–µ–∑ UniversalProcessRunner
- `_update_status()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —á–µ—Ä–µ–∑ ComponentStatusManager (–ù–û–í–û–ï)

**–í–ê–ñ–ù–û: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
- `print()` –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω —á–µ—Ä–µ–∑ `builtins.print = universal_print` (—Å—Ç—Ä–æ–∫–∞ 794)
- `universal_print()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DualStreamLogger –¥–ª—è –≤—Å–µ—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- UniversalProcessRunner.log_info/log_error –∏—Å–ø–æ–ª—å–∑—É—é—Ç DualStreamLogger
- –í—Å–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–¥–µ—Ç —á–µ—Ä–µ–∑ DualStreamLogger (RAW –∏ ANALYSIS –ø–æ—Ç–æ–∫–∏)

### 4. UniversalInstaller (–ú–û–î–ò–§–ò–¶–ò–†–£–ï–¢–°–Ø)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω –≤ GUI: `self.universal_installer = UniversalInstaller(callback=self._component_status_callback)`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É —á–µ—Ä–µ–∑ `install_method`
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ComponentStatusManager
- –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç UniversalProgressManager

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `__init__()`:
   - `status_manager` - ComponentStatusManager
   - `progress_manager` - UniversalProgressManager
   - `use_handlers` - —Ñ–ª–∞–≥ –≤–∫–ª—é—á–µ–Ω–∏—è handlers
2. –°–æ–∑–¥–∞—Ç—å —Ä–µ–µ—Å—Ç—Ä handlers
3. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å `install_component()` –∏ `uninstall_component()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è handlers
4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ —á–µ—Ä–µ–∑ ComponentStatusManager

### 5. AutomationGUI (–ú–û–î–ò–§–ò–¶–ò–†–£–ï–¢–°–Ø)

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ComponentStatusManager —Å–æ–∑–¥–∞–Ω: `self.component_status_manager = ComponentStatusManager(...)`
- UniversalInstaller —Å–æ–∑–¥–∞–Ω: `self.universal_installer = UniversalInstaller(...)`
- SystemUpdater —Å–æ–∑–¥–∞–Ω: `self.system_updater = SystemUpdater(...)`
- SystemUpdater –∏–º–µ–µ—Ç —Å–≤–æ–π UniversalProgressManager

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π UniversalProgressManager –¥–ª—è UniversalInstaller
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–π (–Ω–æ —Å —Ä–∞–∑–Ω—ã–º–∏ `process_type`)
2. –ü–µ—Ä–µ–¥–∞—Ç—å ComponentStatusManager –∏ UniversalProgressManager –≤ UniversalInstaller
3. –£–ª—É—á—à–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ä–µ–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
   - –ü–æ–∫–∞–∑ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

---

## üìù –ü–û–®–ê–ì–û–í–´–ô –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –≠–¢–ê–ü 0: –ü–û–î–ì–û–¢–û–í–ö–ê –ò –ê–ù–ê–õ–ò–ó (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô)

#### –®–∞–≥ 0.1: –ë—ç–∫–∞–ø —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
**–î–µ–π—Å—Ç–≤–∏—è:**
1. –°–æ–∑–¥–∞—Ç—å git –≤–µ—Ç–∫—É: `git checkout -b refactoring/component-handlers`
2. –°–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç: `git commit -am "–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º"`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –í–µ—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∞
- [ ] –ö–æ–º–º–∏—Ç —Å–¥–µ–ª–∞–Ω
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

#### –®–∞–≥ 0.2: –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
**–î–µ–π—Å—Ç–≤–∏—è:**
1. –ù–∞–π—Ç–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `WineInstaller`:
   ```bash
   grep -n "WineInstaller" astra_automation.py
   ```
2. –ù–∞–π—Ç–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `WineUninstaller`:
   ```bash
   grep -n "WineUninstaller" astra_automation.py
   ```
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ ComponentStatusManager –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ SystemUpdater
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ UniversalProgressManager –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –í—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è WineInstaller –Ω–∞–π–¥–µ–Ω—ã
- [ ] –í—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è WineUninstaller –Ω–∞–π–¥–µ–Ω—ã
- [ ] –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ ComponentStatusManager –∏ UniversalProgressManager

#### –®–∞–≥ 0.3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ptrace_scope –≤ COMPONENTS_CONFIG
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 68 (–ø–æ—Å–ª–µ `wine_9`)

**–ö–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏:**
```python
    # –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    'ptrace_scope': {
        'name': '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ ptrace_scope',
        'category': 'system_config',
        'dependencies': [],
        'check_paths': ['/proc/sys/kernel/yama/ptrace_scope'],
        'install_method': 'system_config',
        'uninstall_method': 'system_config',
        'gui_selectable': False,  # –°–∫—Ä—ã—Ç –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
        'description': '–ù–∞—Å—Ç—Ä–æ–π–∫–∞ ptrace_scope –¥–ª—è Wine',
        'priority': 3  # –ü–æ—Å–ª–µ wine –ø–∞–∫–µ—Ç–æ–≤, –ø–µ—Ä–µ–¥ wineprefix
    },
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ COMPONENTS_CONFIG
- [ ] –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã (ptrace_scope=3, wineprefix=4)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞: `python3 -m py_compile astra_automation.py`

---

### –≠–¢–ê–ü 1: –°–û–ó–î–ê–ù–ò–ï –ë–ê–ó–û–í–û–ì–û –ö–õ–ê–°–°–ê (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô)

#### –®–∞–≥ 1.1: –°–æ–∑–¥–∞–Ω–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ ComponentHandler
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 221 (–ø–æ—Å–ª–µ `COMPONENTS_CONFIG`)

**–î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞:**

**1. –ò–º–ø–æ—Ä—Ç—ã:**
```python
from abc import ABC, abstractmethod
```

**2. –ö–ª–∞—Å—Å ComponentHandler:**

```python
# ============================================================================
# –ë–ê–ó–û–í–´–ô –ö–õ–ê–°–° –î–õ–Ø –û–ë–†–ê–ë–û–¢–ß–ò–ö–û–í –ö–û–ú–ü–û–ù–ï–ù–¢–û–í
# ============================================================================
class ComponentHandler(ABC):
    """–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º"""
    
    def __init__(self, 
                 astrapack_dir=None,
                 logger=None,
                 callback=None,
                 universal_runner=None,
                 progress_manager=None,
                 dual_logger=None,
                 status_manager=None):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        
        Args:
            astrapack_dir: –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ AstraPack
            logger: –≠–∫–∑–µ–º–ø–ª—è—Ä Logger –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª
            callback: –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –≤ GUI
            universal_runner: UniversalProcessRunner –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
            progress_manager: UniversalProgressManager –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
            dual_logger: DualStreamLogger –¥–ª—è –¥–≤–æ–π–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
            status_manager: ComponentStatusManager –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞–º–∏
        """
        self.astrapack_dir = astrapack_dir
        self.logger = logger
        self.callback = callback
        self.universal_runner = universal_runner or get_global_universal_runner()
        self.progress_manager = progress_manager
        self.dual_logger = dual_logger or (globals().get('_global_dual_logger') if '_global_dual_logger' in globals() else None)
        self.status_manager = status_manager  # –ö–†–ò–¢–ò–ß–ù–û: –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –†–ï–ê–õ–¨–ù–û–ì–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        real_user = os.environ.get('SUDO_USER')
        if real_user and real_user != 'root':
            import pwd
            self.home = pwd.getpwnam(real_user).pw_dir
        else:
            self.home = os.path.expanduser("~")
        
        self.wineprefix = os.path.join(self.home, ".wine-astraregul")
    
    def _log(self, message, level="INFO"):
        """
        –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –≤—Å–µ —Å–∏—Å—Ç–µ–º—ã
        
        –í–ê–ñ–ù–û: –í—Å—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
        - print() –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤–µ–∑–¥–µ (–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω —á–µ—Ä–µ–∑ builtins.print = universal_print)
        - universal_print –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DualStreamLogger –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        - UniversalProcessRunner.log_info/log_error —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç DualStreamLogger
        
        –ú–µ—Ç–æ–¥ _log() - —É–¥–æ–±–Ω–∞—è –æ–±–µ—Ä—Ç–∫–∞, –Ω–æ handlers –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –ø—Ä—è–º–æ–π print()
        """
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ UniversalProcessRunner
        # (UniversalProcessRunner.log_info/log_error –≤–Ω—É—Ç—Ä–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç DualStreamLogger)
        if self.universal_runner:
            if level == "ERROR":
                self.universal_runner.log_error(message)
            elif level == "WARNING":
                self.universal_runner.log_warning(message)
            else:
                self.universal_runner.log_info(message)
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ DualStreamLogger –Ω–∞–ø—Ä—è–º—É—é (–µ—Å–ª–∏ –µ—Å—Ç—å)
        # (–æ–±—ã—á–Ω–æ —ç—Ç–æ —É–∂–µ –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ UniversalProcessRunner, –Ω–æ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏)
        if self.dual_logger:
            if level == "ERROR":
                self.dual_logger.write_analysis(f"[ERROR] {message}")
            elif level == "WARNING":
                self.dual_logger.write_analysis(f"[WARNING] {message}")
            else:
                self.dual_logger.write_analysis(f"[INFO] {message}")
        
        # Callback –≤ GUI
        if self.callback:
            self.callback(message)
        
        # –ü–†–ò–ú–ï–ß–ê–ù–ò–ï: handlers —Ç–∞–∫–∂–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º–æ–π print():
        # print(f"[INFO] {message}")  # –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ universal_print ‚Üí DualStreamLogger
    
    def _update_progress(self, stage_name, stage_progress, global_progress, details=""):
        """–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —á–µ—Ä–µ–∑ UniversalProgressManager"""
        if self.progress_manager:
            self.progress_manager.update_progress(
                process_type='wine_install',  # –ö–†–ò–¢–ò–ß–ù–û: –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è –æ—Ç system_update
                stage_name=stage_name,
                stage_progress=stage_progress,
                global_progress=global_progress,
                details=details
            )
    
    def _update_status(self, component_id, status):
        """–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ ComponentStatusManager"""
        if self.status_manager:
            self.status_manager.update_component_status(component_id, status)
    
    def _run_process(self, command, process_type="install", channels=["file", "terminal"]):
        """–ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ —á–µ—Ä–µ–∑ UniversalProcessRunner"""
        if self.universal_runner:
            return self.universal_runner.run_process(
                command=command,
                process_type=process_type,
                channels=channels
            )
        return -1
    
    @abstractmethod
    def install(self, component_id: str, config: dict) -> bool:
        """
        –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
        
        Args:
            component_id: ID –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑ COMPONENTS_CONFIG
            config: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑ COMPONENTS_CONFIG
            
        Returns:
            bool: True –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Å–ø–µ—à–Ω–∞, False –µ—Å–ª–∏ –æ—à–∏–±–∫–∞
            
        –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
        1. self._update_status(component_id, 'installing')
        2. –í—ã–ø–æ–ª–Ω–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É
        3. self._update_status(component_id, 'ok' –∏–ª–∏ 'error')
        """
        pass
    
    @abstractmethod
    def uninstall(self, component_id: str, config: dict) -> bool:
        """
        –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
        
        Args:
            component_id: ID –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑ COMPONENTS_CONFIG
            config: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑ COMPONENTS_CONFIG
            
        Returns:
            bool: True –µ—Å–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ, False –µ—Å–ª–∏ –æ—à–∏–±–∫–∞
            
        –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:
        1. self._update_status(component_id, 'removing')
        2. –í—ã–ø–æ–ª–Ω–∏—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ
        3. self._update_status(component_id, 'missing' –∏–ª–∏ 'error')
        """
        pass
    
    @abstractmethod
    def check_status(self, component_id: str, config: dict) -> bool:
        """
        –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
        
        Args:
            component_id: ID –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑ COMPONENTS_CONFIG
            config: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑ COMPONENTS_CONFIG
            
        Returns:
            bool: True –µ—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, False –µ—Å–ª–∏ –Ω–µ—Ç
        """
        pass
    
    @abstractmethod
    def get_category(self) -> str:
        """
        –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        
        Returns:
            str: –ö–∞—Ç–µ–≥–æ—Ä–∏—è ('wine_packages', 'wine_environment', 'winetricks', 'system_config', 'application')
        """
        pass
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ò–º–ø–æ—Ä—Ç `ABC, abstractmethod` –¥–æ–±–∞–≤–ª–µ–Ω –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞
- [ ] –ö–ª–∞—Å—Å ComponentHandler —Å–æ–∑–¥–∞–Ω –ø–æ—Å–ª–µ COMPONENTS_CONFIG
- [ ] –ú–µ—Ç–æ–¥ `_update_status()` –¥–æ–±–∞–≤–ª–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å ComponentStatusManager
- [ ] `process_type='wine_install'` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `_update_progress()`
- [ ] –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å: `python3 -m py_compile astra_automation.py`

---

### –≠–¢–ê–ü 2: –°–û–ó–î–ê–ù–ò–ï HANDLERS (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô)

#### –®–∞–≥ 2.1: –°–æ–∑–¥–∞–Ω–∏–µ WinePackageHandler
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ –∫–ª–∞—Å—Å–∞ `ComponentHandler`

**–î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞:**

**1. –ò–∑—É—á–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã:**
- `UniversalInstaller._install_package_manager()` (—Å—Ç—Ä–æ–∫–∞ ~5043)
- `UniversalInstaller._uninstall_package_manager()` (—Å—Ç—Ä–æ–∫–∞ ~5083)

**2. –ö–ª–∞—Å—Å WinePackageHandler:**

```python
# ============================================================================
# –û–ë–†–ê–ë–û–¢–ß–ò–ö WINE –ü–ê–ö–ï–¢–û–í
# ============================================================================
class WinePackageHandler(ComponentHandler):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ Wine –ø–∞–∫–µ—Ç–æ–≤ (wine_astraregul, wine_9)"""
    
    def get_category(self) -> str:
        return 'wine_packages'
    
    def install(self, component_id: str, config: dict) -> bool:
        """–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Wine –ø–∞–∫–µ—Ç–∞ —á–µ—Ä–µ–∑ apt"""
        # –û–ë–ù–û–í–õ–Ø–ï–ú –°–¢–ê–¢–£–°: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º 'installing'
        self._update_status(component_id, 'installing')
        
        self._log(f"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: {config['name']}")
        
        # –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
        self._update_progress(
            stage_name=f"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ {config['name']}",
            stage_progress=0,
            global_progress=0,
            details=f"–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ {component_id}"
        )
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–º—è .deb —Ñ–∞–π–ª–∞ –∏–∑ component_id
        deb_files = {
            'wine_astraregul': 'wine-astraregul_10.0-rc6-3_amd64.deb',
            'wine_9': 'wine_9.0-1_amd64.deb'
        }
        
        if component_id not in deb_files:
            self._log(f"–û–®–ò–ë–ö–ê: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø–∞–∫–µ—Ç: {component_id}", "ERROR")
            self._update_status(component_id, 'error')
            return False
        
        deb_name = deb_files[component_id]
        package_path = os.path.join(self.astrapack_dir, deb_name)
        
        if not os.path.exists(package_path):
            self._log(f"–û–®–ò–ë–ö–ê: –§–∞–π–ª –ø–∞–∫–µ—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω: {package_path}", "ERROR")
            self._update_status(component_id, 'error')
            return False
        
        # –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
        self._update_progress(
            stage_name=f"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ {config['name']}",
            stage_progress=50,
            global_progress=50,
            details="–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ apt..."
        )
        
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º UniversalProcessRunner
        return_code = self._run_process(
            ['apt', 'install', '-y', package_path],
            process_type="install",
            channels=["file", "terminal", "gui"]
        )
        
        if return_code == 0:
            self._log(f"–ü–∞–∫–µ—Ç {config['name']} —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ")
            self._update_progress(
                stage_name=f"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ {config['name']}",
                stage_progress=100,
                global_progress=100,
                details=f"{config['name']} —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ"
            )
            # –û–ë–ù–û–í–õ–Ø–ï–ú –°–¢–ê–¢–£–°: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º 'ok'
            self._update_status(component_id, 'ok')
            return True
        else:
            self._log(f"–û–®–ò–ë–ö–ê —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞ {config['name']} (–∫–æ–¥: {return_code})", "ERROR")
            # –û–ë–ù–û–í–õ–Ø–ï–ú –°–¢–ê–¢–£–°: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º 'error'
            self._update_status(component_id, 'error')
            return False
    
    def uninstall(self, component_id: str, config: dict) -> bool:
        """–£–¥–∞–ª–µ–Ω–∏–µ Wine –ø–∞–∫–µ—Ç–∞ —á–µ—Ä–µ–∑ apt-get purge"""
        # –û–ë–ù–û–í–õ–Ø–ï–ú –°–¢–ê–¢–£–°: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º 'removing'
        self._update_status(component_id, 'removing')
        
        self._log(f"–£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: {config['name']}")
        
        package_names = {
            'wine_astraregul': 'wine-astraregul',
            'wine_9': 'wine-9.0'
        }
        
        if component_id not in package_names:
            self._log(f"–û–®–ò–ë–ö–ê: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è: {component_id}", "ERROR")
            self._update_status(component_id, 'error')
            return False
        
        package_name = package_names[component_id]
        
        # –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Wine –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
        self._run_process(['pkill', '-9', 'wine'], process_type="remove")
        self._run_process(['pkill', '-9', 'wineserver'], process_type="remove")
        self._run_process(['pkill', '-9', 'wineboot'], process_type="remove")
        
        import time
        time.sleep(1)
        
        # –£–¥–∞–ª—è–µ–º –ø–∞–∫–µ—Ç —á–µ—Ä–µ–∑ apt-get purge
        return_code = self._run_process(
            ['apt-get', 'purge', '-y', package_name],
            process_type="remove",
            channels=["file", "terminal"]
        )
        
        if return_code == 0:
            self._log(f"–ü–∞–∫–µ—Ç {config['name']} —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ")
            # –£–¥–∞–ª—è–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ Wine –≤—Ä—É—á–Ω—É—é
            wine_dirs = {
                'wine_astraregul': '/opt/wine-astraregul',
                'wine_9': '/opt/wine-9.0'
            }
            if component_id in wine_dirs:
                wine_dir = wine_dirs[component_id]
                if os.path.exists(wine_dir):
                    import shutil
                    shutil.rmtree(wine_dir)
                    self._log(f"  –£–¥–∞–ª–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: {wine_dir}")
            # –û–ë–ù–û–í–õ–Ø–ï–ú –°–¢–ê–¢–£–°: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º 'missing'
            self._update_status(component_id, 'missing')
            return True
        else:
            self._log(f"–û–®–ò–ë–ö–ê —É–¥–∞–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞ {config['name']}", "ERROR")
            # –û–ë–ù–û–í–õ–Ø–ï–ú –°–¢–ê–¢–£–°: —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º 'error'
            self._update_status(component_id, 'error')
            return False
    
    def check_status(self, component_id: str, config: dict) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Wine –ø–∞–∫–µ—Ç–∞"""
        check_paths = config.get('check_paths', [])
        for path in check_paths:
            if os.path.exists(path):
                return True
        return False
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ö–ª–∞—Å—Å —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `ComponentHandler`
- [ ] –ú–µ—Ç–æ–¥ `install()` –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å—ã —á–µ—Ä–µ–∑ `_update_status()`
- [ ] –ú–µ—Ç–æ–¥ `uninstall()` –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å—ã —á–µ—Ä–µ–∑ `_update_status()`
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_run_process()` –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ `subprocess.run()`
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_log()` –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_update_progress()` –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- [ ] –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

**–ü–†–ò–ú–ï–ß–ê–ù–ò–ï:** –û—Å—Ç–∞–ª—å–Ω—ã–µ handlers (WineEnvironmentHandler, WinetricksHandler, SystemConfigHandler, ApplicationHandler) —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Å—Ç–∞—Ç—É—Å–æ–≤ —á–µ—Ä–µ–∑ `_update_status()`.

---

### –≠–¢–ê–ü 3: –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø HANDLERS –í UNIVERSALINSTALLER (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô)

#### –®–∞–≥ 3.1: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è __init__() UniversalInstaller
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `__init__()` –∫–ª–∞—Å—Å–∞ `UniversalInstaller` (—Å—Ç—Ä–æ–∫–∞ 4866)

**–î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞:**

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```python
def __init__(self, logger=None, callback=None):
```

**–ù–æ–≤—ã–π –∫–æ–¥:**
```python
def __init__(self, 
             logger=None, 
             callback=None,
             use_handlers=False,  # –ù–û–í–´–ô –ü–ê–†–ê–ú–ï–¢–†
             use_minimal_winetricks=True,  # –ù–û–í–´–ô –ü–ê–†–ê–ú–ï–¢–†
             universal_runner=None,  # –ù–û–í–´–ô –ü–ê–†–ê–ú–ï–¢–†
             progress_manager=None,  # –ù–û–í–´–ô –ü–ê–†–ê–ú–ï–¢–†
             dual_logger=None,  # –ù–û–í–´–ô –ü–ê–†–ê–ú–ï–¢–†
             status_manager=None):  # –ù–û–í–´–ô –ü–ê–†–ê–ú–ï–¢–†: ComponentStatusManager
    """
    –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞
    
    Args:
        logger: –≠–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞ Logger –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        callback: –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –≤ GUI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
        use_handlers: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É handlers (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é False)
        use_minimal_winetricks: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π winetricks (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é True)
        universal_runner: UniversalProcessRunner –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
        progress_manager: UniversalProgressManager –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        dual_logger: DualStreamLogger –¥–ª—è –¥–≤–æ–π–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        status_manager: ComponentStatusManager –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞–º–∏
    """
   
    self.logger = logger
    self.callback = callback
    self.use_handlers = use_handlers
    self.use_minimal_winetricks = use_minimal_winetricks
    
    # –ü–æ–ª—É—á–∞–µ–º –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞
    import sys
    if os.path.isabs(sys.argv[0]):
        script_path = sys.argv[0]
    else:
        script_path = os.path.join(os.getcwd(), sys.argv[0])
    
    script_dir = os.path.dirname(os.path.abspath(script_path))
    self.astrapack_dir = os.path.join(script_dir, "AstraPack")
    
    # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –†–ï–ê–õ–¨–ù–û–ì–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    real_user = os.environ.get('SUDO_USER')
    if real_user and real_user != 'root':
        import pwd
        self.home = pwd.getpwnam(real_user).pw_dir
    else:
        self.home = os.path.expanduser("~")
    
    self.wineprefix = os.path.join(self.home, ".wine-astraregul")
    
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∏ (–¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
    self.wine_installer = None
    self.winetricks_manager = WinetricksManager(self.astrapack_dir, use_minimal=self.use_minimal_winetricks)

    # –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
    self.universal_runner = universal_runner or get_global_universal_runner()
    self.progress_manager = progress_manager  # –ú–æ–∂–µ—Ç –±—ã—Ç—å None, –µ—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω
    self.dual_logger = dual_logger or (globals().get('_global_dual_logger') if '_global_dual_logger' in globals() else None)
    self.status_manager = status_manager  # –ö–†–ò–¢–ò–ß–ù–û: ComponentStatusManager
    
    # –†–µ–µ—Å—Ç—Ä –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    self.handlers = {}
    if self.use_handlers:
        self._register_handlers()
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `__init__()`
- [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `self`
- [ ] `_register_handlers()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –µ—Å–ª–∏ `use_handlers=True`
- [ ] –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

#### –®–∞–≥ 3.2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è handlers
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ `__init__()` –∫–ª–∞—Å—Å–∞ `UniversalInstaller`

**–ö–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏:**
```python
def _register_handlers(self):
    """–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤"""
    if not self.status_manager:
        self._log("–í–ù–ò–ú–ê–ù–ò–ï: ComponentStatusManager –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω, —Å—Ç–∞—Ç—É—Å—ã –Ω–µ –±—É–¥—É—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è", "WARNING")
    
    # –û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤—Å–µ—Ö handlers
    common_params = {
        'astrapack_dir': self.astrapack_dir,
        'logger': self.logger,
        'callback': self.callback,
        'universal_runner': self.universal_runner,
        'progress_manager': self.progress_manager,
        'dual_logger': self.dual_logger,
        'status_manager': self.status_manager  # –ö–†–ò–¢–ò–ß–ù–û
    }
    
    # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º handlers
    self.handlers['wine_packages'] = WinePackageHandler(**common_params)
    self.handlers['wine_environment'] = WineEnvironmentHandler(**common_params)
    self.handlers['winetricks'] = WinetricksHandler(
        use_minimal=self.use_minimal_winetricks,
        **common_params
    )
    self.handlers['system_config'] = SystemConfigHandler(**common_params)
    self.handlers['application'] = ApplicationHandler(**common_params)
    
    self._log("Handlers –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã: %s" % ', '.join(self.handlers.keys()))
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ú–µ—Ç–æ–¥ `_register_handlers()` —Å–æ–∑–¥–∞–Ω
- [ ] –í—Å–µ handlers –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
- [ ] ComponentStatusManager –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤–æ –≤—Å–µ handlers
- [ ] UniversalProgressManager –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤–æ –≤—Å–µ handlers
- [ ] –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

#### –®–∞–≥ 3.3: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ install_component()
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `install_component()` –∫–ª–∞—Å—Å–∞ `UniversalInstaller` (—Å—Ç—Ä–æ–∫–∞ 5022)

**–î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞:**

**–¢–µ–∫—É—â–∏–π –∫–æ–¥ (–ø—Ä–∏–º–µ—Ä–Ω–æ):**
```python
def install_component(self, component_id):
    if component_id not in COMPONENTS_CONFIG:
        self._log("–û—à–∏–±–∫–∞: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç '%s' –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏" % component_id, "ERROR")
        return False
    
    config = COMPONENTS_CONFIG[component_id]
    install_method = config['install_method']
    
    # ... —Å—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ —á–µ—Ä–µ–∑ install_method ...
```

**–ù–æ–≤—ã–π –∫–æ–¥:**
```python
def install_component(self, component_id):
    """
    –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
    
    Args:
        component_id: ID –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
        
    Returns:
        bool: True –µ—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —É—Å–ø–µ—à–Ω–∞, False –µ—Å–ª–∏ –æ—à–∏–±–∫–∞
    """
    if component_id not in COMPONENTS_CONFIG:
        self._log("–û—à–∏–±–∫–∞: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç '%s' –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏" % component_id, "ERROR")
        return False
    
    config = COMPONENTS_CONFIG[component_id]
    
    # –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê: –ò—Å–ø–æ–ª—å–∑—É–µ–º handlers –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω —Ñ–ª–∞–≥
    if self.use_handlers:
        category = config.get('category')
        if not category:
            self._log("–û—à–∏–±–∫–∞: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç '%s' –Ω–µ –∏–º–µ–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–∏" % component_id, "ERROR")
            return False
        
        if category in self.handlers:
            handler = self.handlers[category]
            # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å 'pending' –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π (–µ—Å–ª–∏ –µ—Å—Ç—å status_manager)
            if self.status_manager:
                self.status_manager.update_component_status(component_id, 'pending')
            # –í—ã–∑—ã–≤–∞–µ–º handler
            result = handler.install(component_id, config)
            return result
        else:
            self._log("–û—à–∏–±–∫–∞: –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è '%s' –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ '%s'" % (category, component_id), "ERROR")
            if self.status_manager:
                self.status_manager.update_component_status(component_id, 'error')
            return False
    
    # –°–¢–ê–†–ê–Ø –õ–û–ì–ò–ö–ê: –ò—Å–ø–æ–ª—å–∑—É–µ–º install_method (–æ—Å—Ç–∞–≤–ª—è–µ–º –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
    install_method = config['install_method']
    
    self._log("–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: %s (–º–µ—Ç–æ–¥: %s)" % (config['name'], install_method))
    
    try:
        if install_method == 'package_manager':
            return self._install_package_manager(component_id, config)
        elif install_method == 'system_config':
            return self._install_system_config(component_id, config)
        elif install_method == 'wine_init':
            return self._install_wine_init(component_id, config)
        elif install_method == 'winetricks':
            return self._install_winetricks(component_id, config)
        elif install_method == 'wine_executable':
            return self._install_wine_executable(component_id, config)
        elif install_method == 'script_creation':
            return self._install_script_creation(component_id, config)
        elif install_method == 'desktop_shortcut':
            return self._install_desktop_shortcut(component_id, config)
        else:
            self._log("–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –º–µ—Ç–æ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–∏: %s" % install_method, "ERROR")
            return False
    except Exception as e:
        self._log("–û—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ %s: %s" % (component_id, str(e)), "ERROR")
        return False
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ `use_handlers` –¥–æ–±–∞–≤–ª–µ–Ω–∞
- [ ] –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç handlers
- [ ] –°—Ç–∞—Ç—É—Å 'pending' —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
- [ ] –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –æ–±–æ–∏—Ö –ø—É—Ç–µ–π
- [ ] –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

#### –®–∞–≥ 3.4: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ uninstall_component()
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `uninstall_component()` –∫–ª–∞—Å—Å–∞ `UniversalInstaller` (—Å—Ç—Ä–æ–∫–∞ 5063)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `install_component()`, –Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `handler.uninstall()`

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —à–∞–≥—É 3.3
- [ ] –°—Ç–∞—Ç—É—Å 'removing' —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º

#### –®–∞–≥ 3.5: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ install_components()
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `install_components()` –∫–ª–∞—Å—Å–∞ `UniversalInstaller` (—Å—Ç—Ä–æ–∫–∞ ~5104)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –î–æ–±–∞–≤–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ 'pending' –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
2. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å—Ç–∞—Ç—É—Å—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ ComponentStatusManager

**–ö–æ–¥ –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏:**
```python
def install_components(self, component_ids):
    """
    –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å —É—á–µ—Ç–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    
    Args:
        component_ids: –°–ø–∏—Å–æ–∫ ID –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
        
    Returns:
        bool: True –µ—Å–ª–∏ –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ, False –µ—Å–ª–∏ –µ—Å—Ç—å –æ—à–∏–±–∫–∏
    """
    self._log("–ù–∞—á–∞–ª–æ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: %s" % ', '.join(component_ids))
    
    # –†–∞–∑—Ä–µ—à–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
    resolved_components = self.resolve_dependencies(component_ids)
    self._log("–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å —É—á–µ—Ç–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: %s" % ', '.join(resolved_components))
    
    # –ù–û–í–û–ï: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å 'pending' –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    if self.status_manager:
        for component_id in component_ids:
            if component_id in COMPONENTS_CONFIG:
                self.status_manager.update_component_status(component_id, 'pending')
    
    success = True
    for component_id in resolved_components:
        if not self.check_component_status(component_id):
            if not self.install_component(component_id):
                success = False
                # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–∏–ª —Å–≤–æ–π —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ handler
        else:
            self._log("–ö–æ–º–ø–æ–Ω–µ–Ω—Ç '%s' —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º" % component_id)
    
    if success:
        self._log("–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ")
    else:
        self._log("–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã", "ERROR")
    
    return success
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –°—Ç–∞—Ç—É—Å 'pending' —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –°—Ç–∞—Ç—É—Å—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ handlers

---

### –≠–¢–ê–ü 4: –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –í GUI (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô)

#### –®–∞–≥ 4.1: –°–æ–∑–¥–∞–Ω–∏–µ UniversalProgressManager –¥–ª—è UniversalInstaller
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `__init__()` –∫–ª–∞—Å—Å–∞ `AutomationGUI` (–ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 7356)

**–î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞:**

**–ü—Ä–æ–±–ª–µ–º–∞:** SystemUpdater –∏–º–µ–µ—Ç —Å–≤–æ–π UniversalProgressManager —Å `process_type='system_update'`. –ù—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–ª—è UniversalInstaller —Å `process_type='wine_install'`.

**–†–µ—à–µ–Ω–∏–µ:** –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π UniversalProgressManager –¥–ª—è UniversalInstaller –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–π (–Ω–æ —Å —Ä–∞–∑–Ω—ã–º–∏ `process_type`).

**–ö–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏:**
```python
# –°–æ–∑–¥–∞–µ–º SystemUpdater –ü–û–°–õ–ï —Å–æ–∑–¥–∞–Ω–∏—è universal_runner
self.system_updater = SystemUpdater(self.universal_runner)
self.system_updater.gui_instance = self  # –ü–µ—Ä–µ–¥–∞–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ GUI

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–∞—Ä—Å–µ—Ä –≤ UniversalProcessRunner –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è SystemUpdater
self.universal_runner.parser = self.system_updater.system_update_parser

# –ü–µ—Ä–µ–¥–∞–µ–º —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –±–∞—Ä—ã –¥–ª—è –ø—Ä—è–º–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
self.system_updater.download_progress = self.download_progress
self.system_updater.unpack_progress = self.unpack_progress
self.system_updater.config_progress = self.config_progress
self.system_updater.download_label = self.download_label
self.system_updater.unpack_label = self.unpack_label
self.system_updater.config_label = self.config_label

# –ù–û–í–û–ï: –°–æ–∑–¥–∞–µ–º UniversalProgressManager –¥–ª—è UniversalInstaller
def send_component_progress_to_gui(progress_data):
    """–û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ GUI"""
    try:
        import datetime
        timestamp = datetime.datetime.now().strftime("%H:%M:%S.%f")[:-3]
        
        # –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è GUI
        gui_data = {
            'stage_name': progress_data.get('stage_name', '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'),
            'stage_progress': progress_data.get('stage_progress', 0),
            'global_progress': progress_data.get('global_progress', 0),
            'details': progress_data.get('details', ''),
            'timestamp': timestamp
        }
        
        # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —á–µ—Ä–µ–∑ universal_runner
        if hasattr(self, 'universal_runner') and self.universal_runner:
            if hasattr(self.universal_runner, 'gui_log_callback') and self.universal_runner.gui_log_callback:
                try:
                    self.universal_runner.gui_log_callback("[COMPONENT_PROGRESS] " + str(gui_data))
                except Exception as e:
                    print(f"[ERROR] –û—à–∏–±–∫–∞ –≤—ã–∑–æ–≤–∞ gui_log_callback: {e}")
    except Exception as e:
        print(f"[ERROR] –û—à–∏–±–∫–∞ –≤ send_component_progress_to_gui: {e}")

# –°–æ–∑–¥–∞–µ–º UniversalProgressManager –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
self.component_progress_manager = UniversalProgressManager(
    universal_runner=self.universal_runner,
    gui_callback=send_component_progress_to_gui
)
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] UniversalProgressManager —Å–æ–∑–¥–∞–Ω –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] Callback –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ GUI
- [ ] –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

#### –®–∞–≥ 4.2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è UniversalInstaller –≤ GUI
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `__init__()` –∫–ª–∞—Å—Å–∞ `AutomationGUI` (—Å—Ç—Ä–æ–∫–∞ 6542)

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```python
self.universal_installer = UniversalInstaller(callback=self._component_status_callback)
```

**–ù–æ–≤—ã–π –∫–æ–¥:**
```python
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–æ–≤—É—é —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
self.component_status_manager = ComponentStatusManager(callback=self._component_status_callback)

# –°–æ–∑–¥–∞–µ–º UniversalInstaller —Å handlers
self.universal_installer = UniversalInstaller(
    callback=self._component_status_callback,
    use_handlers=True,  # –í–∫–ª—é—á–∞–µ–º –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
    use_minimal_winetricks=self.use_minimal_winetricks.get(),
    universal_runner=self.universal_runner,
    progress_manager=self.component_progress_manager,  # –ù–û–í–û–ï: UniversalProgressManager –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    dual_logger=_global_dual_logger if '_global_dual_logger' in globals() else None,
    status_manager=self.component_status_manager  # –ö–†–ò–¢–ò–ß–ù–û: ComponentStatusManager
)
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] ComponentStatusManager —Å–æ–∑–¥–∞–Ω –ø–µ—Ä–µ–¥ UniversalInstaller
- [ ] UniversalInstaller —Å–æ–∑–¥–∞–Ω —Å `use_handlers=True`
- [ ] ComponentStatusManager –ø–µ—Ä–µ–¥–∞–Ω –≤ UniversalInstaller
- [ ] UniversalProgressManager –ø–µ—Ä–µ–¥–∞–Ω –≤ UniversalInstaller
- [ ] dual_logger –ø–µ—Ä–µ–¥–∞–Ω –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
- [ ] –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

#### –®–∞–≥ 4.3: –£–ª—É—á—à–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `_update_wine_status()` –∫–ª–∞—Å—Å–∞ `AutomationGUI` (—Å—Ç—Ä–æ–∫–∞ 9106)

**–î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞:**

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–º–≤–æ–ª—ã `‚îú‚îÄ`, `‚îî‚îÄ`, `‚îÇ` –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
3. –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ/–¥–æ—á–µ—Ä–Ω–∏–µ)
4. –†–∞—Å–∫—Ä–∞—à–∏–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É

**–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
```
‚òê Wine Astraregul          [OK]    /opt/wine-astraregul/bin/wine
‚òê WINEPREFIX               [OK]    ~/.wine-astraregul
  ‚îú‚îÄ Wine Mono             [OK]    drive_c/windows/mono/...
  ‚îú‚îÄ .NET Framework 4.8    [INSTALL] –£—Å—Ç–∞–Ω–æ–≤–∫–∞... 45%
  ‚îî‚îÄ Visual C++ 2013        [PENDING] –û–∂–∏–¥–∞–Ω–∏–µ...
‚òê Astra.IDE                [OK]    drive_c/Program Files/...
  ‚îú‚îÄ –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞        [OK]    ~/start-astraide.sh
  ‚îî‚îÄ –Ø—Ä–ª—ã–∫ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞   [OK]    ~/Desktop/AstraRegul.desktop
```

**–ö–æ–¥ –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏:**

```python
def _update_wine_status(self):
    """–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ GUI —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã"""
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —á–µ–∫–±–æ–∫—Å–æ–≤ ...
    
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
    all_status = self.component_status_manager.get_all_components_status()
    
    # –ù–û–í–û–ï: –°—Ç—Ä–æ–∏–º –¥–µ—Ä–µ–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    def build_dependency_tree():
        """–°—Ç—Ä–æ–∏—Ç –¥–µ—Ä–µ–≤–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤"""
        tree = {}
        # –ü–µ—Ä–≤—ã–π –ø—Ä–æ—Ö–æ–¥: —Å–æ–∑–¥–∞–µ–º —É–∑–ª—ã
        for component_id, config in COMPONENTS_CONFIG.items():
            tree[component_id] = {
                'config': config,
                'children': [],
                'parent': None
            }
        
        # –í—Ç–æ—Ä–æ–π –ø—Ä–æ—Ö–æ–¥: —Å–≤—è–∑—ã–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
        for component_id, node in tree.items():
            dependencies = node['config'].get('dependencies', [])
            for dep_id in dependencies:
                if dep_id in tree:
                    tree[dep_id]['children'].append(component_id)
                    node['parent'] = dep_id
        
        return tree
    
    # –°—Ç—Ä–æ–∏–º –¥–µ—Ä–µ–≤–æ
    dependency_tree = build_dependency_tree()
    
    # –ù–û–í–û–ï: –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å —É—á–µ—Ç–æ–º –¥–µ—Ä–µ–≤–∞
    def render_component(component_id, indent=0, is_last=False, prefix=""):
        """–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —É—á–µ—Ç–æ–º –¥–µ—Ä–µ–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"""
        if component_id not in COMPONENTS_CONFIG:
            return
        
        config = COMPONENTS_CONFIG[component_id]
        status_text, status_tag = all_status.get(component_id, ('[---]', 'missing'))
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø—É—Ç—å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
        check_paths = config['check_paths']
        display_path = check_paths[0] if check_paths else 'N/A'
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –µ—Å—Ç—å –ª–∏ —á–µ–∫–±–æ–∫—Å
        has_checkbox = config.get('gui_selectable', False)
        checkbox = '‚òê' if has_checkbox else '  '
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–∏–º–≤–æ–ª –¥–ª—è –¥–µ—Ä–µ–≤–∞
        if indent == 0:
            component_display_name = config['name']
        else:
            symbol = '‚îî‚îÄ' if is_last else '‚îú‚îÄ'
            component_display_name = f"  {prefix}{symbol} {config['name']}"
        
        # –î–æ–±–∞–≤–ª—è–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ —Ç–∞–±–ª–∏—Ü—É
        item_id = self.wine_tree.insert('', self.tk.END, values=(
            checkbox,
            component_display_name,
            status_text,
            display_path
        ))
        
        if has_checkbox:
            self.wine_checkboxes[item_id] = False
        
        # –¶–≤–µ—Ç–æ–≤–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ
        self.wine_tree.item(item_id, tags=(status_tag))
        
        # –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
        children = dependency_tree[component_id]['children']
        new_prefix = prefix + ('   ' if is_last else '‚îÇ  ')
        for i, child_id in enumerate(children):
            is_last_child = (i == len(children) - 1)
            render_component(child_id, indent + 1, is_last_child, new_prefix)
    
    # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º (–∫–æ—Ä–Ω–µ–≤—ã–µ —É–∑–ª—ã)
    root_components = []
    for component_id, node in dependency_tree.items():
        if node['parent'] is None:  # –ö–æ—Ä–Ω–µ–≤–æ–π —É–∑–µ–ª
            root_components.append((component_id, node['config'].get('priority', 999)))
    
    # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
    root_components.sort(key=lambda x: x[1])
    
    # –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–æ—Ä–Ω–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∏—Ö –¥–æ—á–µ—Ä–Ω–∏–µ
    for i, (component_id, _) in enumerate(root_components):
        is_last = (i == len(root_components) - 1)
        render_component(component_id, indent=0, is_last=is_last, prefix="")
    
    # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –§—É–Ω–∫—Ü–∏—è `build_dependency_tree()` —Å–æ–∑–¥–∞–Ω–∞
- [ ] –§—É–Ω–∫—Ü–∏—è `render_component()` —Å–æ–∑–¥–∞–Ω–∞
- [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ –≤–∏–¥–µ –¥–µ—Ä–µ–≤–∞
- [ ] –°–∏–º–≤–æ–ª—ã `‚îú‚îÄ`, `‚îî‚îÄ`, `‚îÇ` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –°—Ç–∞—Ç—É—Å—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

---

### –≠–¢–ê–ü 5: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô)

#### –®–∞–≥ 5.1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ handler –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏
(–°–º. –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω, –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞)

#### –®–∞–≥ 5.2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
(–°–º. –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω, –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞)

#### –®–∞–≥ 5.3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
**–ù–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤:**
- [ ] –°—Ç–∞—Ç—É—Å 'pending' —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- [ ] –°—Ç–∞—Ç—É—Å 'installing' —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- [ ] –°—Ç–∞—Ç—É—Å 'ok' —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- [ ] –°—Ç–∞—Ç—É—Å 'error' —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–µ
- [ ] –°—Ç–∞—Ç—É—Å 'removing' —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —É–¥–∞–ª–µ–Ω–∏—è
- [ ] –°—Ç–∞—Ç—É—Å 'missing' —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è
- [ ] GUI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–æ–≤

**–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:**
- [ ] SystemUpdater –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `process_type='system_update'`
- [ ] UniversalInstaller –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `process_type='wine_install'`
- [ ] GUI —Ä–∞–∑–ª–∏—á–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–æ `process_type`
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

---

### –≠–¢–ê–ü 6: –ú–ò–ì–†–ê–¶–ò–Ø –ù–ê –ù–û–í–£–Æ –ê–†–•–ò–¢–ï–ö–¢–£–†–£ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô)
(–°–º. –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω, –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞)

---

### –≠–¢–ê–ü 7: –£–î–ê–õ–ï–ù–ò–ï –°–¢–ê–†–û–ì–û –ö–û–î–ê (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–ò–ó–ö–ò–ô)
(–°–º. –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω, –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞)

---

### –≠–¢–ê–ü 8: –§–ò–ù–ê–õ–ò–ó–ê–¶–ò–Ø (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô)
(–°–º. –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω, –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞)

---

## üîç –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è/—É–¥–∞–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ handlers
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≤—Å–µ –∫–∞–Ω–∞–ª—ã (—Ñ–∞–π–ª, —Ç–µ—Ä–º–∏–Ω–∞–ª, GUI)
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –°—Ç–∞—Ç—É—Å—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ
- ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
- ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª –∫–æ—Ä–æ—á–µ (—É–¥–∞–ª–µ–Ω–æ ~2037 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ –∫–æ–¥–∞)
- ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª –ø–æ–Ω—è—Ç–Ω–µ–µ (–ª–æ–≥–∏–∫–∞ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ handlers)
- ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª —Ä–∞—Å—à–∏—Ä—è–µ–º–µ–µ (–Ω–æ–≤—ã–π handler = –Ω–æ–≤—ã–π —Ç–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –º–µ–∂–¥—É handlers
- ‚úÖ ComponentStatusManager –∏ UniversalProgressManager —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ù–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ
- ‚úÖ –ö–æ–¥ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ–Ω—è—Ç–Ω—ã –Ω–æ–≤–æ–º—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

---

## ‚ö†Ô∏è –†–ò–°–ö–ò –ò –°–ü–û–°–û–ë–´ –ò–• –ú–ò–ù–ò–ú–ò–ó–ê–¶–ò–ò

### –†–∏—Å–∫ 1: –ü–æ–ª–æ–º–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
**–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–ª–∞–≥ `use_handlers` –¥–ª—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É –¥–æ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

### –†–∏—Å–∫ 2: –ü—É—Ç–∞–Ω–∏—Ü–∞ –º–µ–∂–¥—É ComponentStatusManager –∏ UniversalProgressManager
**–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è:**
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ: ComponentStatusManager - —Ç–æ–ª—å–∫–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, UniversalProgressManager - –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `process_type` –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### –†–∏—Å–∫ 3: –ü–æ—Ç–µ—Ä—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
**–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è:**
- –ö–∞–∂–¥—ã–π handler –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —á–µ—Ä–µ–∑ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ handler
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ –∫–∞–Ω–∞–ª—ã –≤—ã–≤–æ–¥–∞

### –†–∏—Å–∫ 4: –û—à–∏–±–∫–∏ –≤ handlers
**–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è:**
- –ü–æ—à–∞–≥–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ handler
- Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞

### –†–∏—Å–∫ 5: –ü—Ä–æ–±–ª–µ–º—ã —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π
**–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è:**
- –ü–æ—ç—Ç–∞–ø–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (–æ–¥–∏–Ω handler –∑–∞ —Ä–∞–∑)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ —á–µ—Ä–µ–∑ `use_handlers=False`
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

## üìö –°–ü–†–ê–í–û–ß–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

### –°–≤—è–∑—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
```
COMPONENTS_CONFIG['category']
    ‚Üì
UniversalInstaller.handlers['category']
    ‚Üì
ComponentHandler.install/uninstall
    ‚îú‚îÄ‚Üí ComponentStatusManager (—Å—Ç–∞—Ç—É—Å—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
    ‚îú‚îÄ‚Üí UniversalProgressManager (–ø—Ä–æ–≥—Ä–µ—Å—Å, process_type='wine_install')
    ‚îú‚îÄ‚Üí UniversalProcessRunner (–ø—Ä–æ—Ü–µ—Å—Å—ã)
    ‚îÇ   ‚îî‚îÄ‚Üí DualStreamLogger (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ log_info/log_error)
    ‚îî‚îÄ‚Üí print() / universal_print() ‚Üí DualStreamLogger (–ø—Ä—è–º–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
    
–í–ê–ñ–ù–û: –í—Å—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
- print() –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω —á–µ—Ä–µ–∑ builtins.print = universal_print (—Å—Ç—Ä–æ–∫–∞ 794)
- universal_print() ‚Üí DualStreamLogger (RAW –∏ ANALYSIS –ø–æ—Ç–æ–∫–∏)
- UniversalProcessRunner.log_info/log_error ‚Üí DualStreamLogger
- Handlers –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ _log(), —Ç–∞–∫ –∏ –ø—Ä—è–º–æ–π print()
```

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:
```
SystemUpdater
    ‚îî‚îÄ‚Üí UniversalProgressManager (process_type='system_update')
    
UniversalInstaller
    ‚îî‚îÄ‚Üí UniversalProgressManager (process_type='wine_install')
    ‚îî‚îÄ‚Üí ComponentStatusManager (—Å—Ç–∞—Ç—É—Å—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
```

### –ü–æ—Ä—è–¥–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
1. `wine_packages` (Wine –ø–∞–∫–µ—Ç—ã)
2. `system_config` (ptrace_scope)
3. `wine_environment` (WINEPREFIX)
4. `winetricks` (winetricks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
5. `application` (Astra.IDE + —Å–∫—Ä–∏–ø—Ç—ã + —è—Ä–ª—ã–∫–∏)

### –ü–æ—Ä—è–¥–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
1. `application` (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ + —Å–∫—Ä–∏–ø—Ç—ã + —è—Ä–ª—ã–∫–∏)
2. `winetricks` (winetricks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
3. `wine_environment` (WINEPREFIX)
4. `system_config` (–æ—Ç–∫–∞—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫)
5. `wine_packages` (Wine –ø–∞–∫–µ—Ç—ã)

---

## üìù –ó–ê–ú–ï–¢–ö–ò –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê

### –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:
1. **–í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞** - –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏
2. **–ò—Å–ø–æ–ª—å–∑—É–π git** - –∫–æ–º–º–∏—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —à–∞–≥–∞
3. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π –ø—Ä–æ–±–ª–µ–º—ã** - –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö
4. **–ù–µ —Ç–æ—Ä–æ–ø–∏—Å—å** - –ª—É—á—à–µ –º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —á–µ–º –±—ã—Å—Ç—Ä–æ —Å –æ—à–∏–±–∫–∞–º–∏
5. **–ü–æ–º–Ω–∏ –æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–∏** - ComponentStatusManager –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, UniversalProgressManager –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
6. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è** - print() –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤–µ–∑–¥–µ, DualStreamLogger –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –ª–æ–≥–æ–≤

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
python3 -m py_compile astra_automation.py

# –ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞
grep -n "WineInstaller" astra_automation.py
grep -n "ComponentStatusManager" astra_automation.py
grep -n "UniversalProgressManager" astra_automation.py

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)
./test-environment/test_all_components.sh
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –§–ò–ù–ê–õ–¨–ù–û–ô –ü–†–û–í–ï–†–ö–ò

–ü–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- [ ] –í—Å–µ handlers —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –°—Ç–∞—Ç—É—Å—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ
- [ ] ComponentStatusManager –∏ UniversalProgressManager —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –°—Ç–∞—Ä—ã–π –∫–æ–¥ —É–¥–∞–ª–µ–Ω
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] GUI —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ö–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –í–µ—Ç–∫–∞ —Å–ª–∏—Ç–∞ –≤ –æ—Å–Ω–æ–≤–Ω—É—é

---

**–ö–û–ù–ï–¶ –ü–õ–ê–ù–ê –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê**

–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω–∞: 2025-11-05
–í–µ—Ä—Å–∏—è –ø–ª–∞–Ω–∞: 2.5.0
–°—Ç–∞—Ç—É—Å: –î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –ì–û–¢–û–í –ö –†–ï–ê–õ–ò–ó–ê–¶–ò–ò
