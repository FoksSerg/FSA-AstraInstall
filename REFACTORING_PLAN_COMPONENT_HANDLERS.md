# üìã –î–ï–¢–ê–õ–¨–ù–´–ô –ü–õ–ê–ù –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê: –ú–ò–ì–†–ê–¶–ò–Ø –ù–ê –ê–†–•–ò–¢–ï–ö–¢–£–†–£ COMPONENT HANDLERS
**–í–µ—Ä—Å–∏—è: V2.4.100 (2025.10.31)**
**–ö–æ–º–ø–∞–Ω–∏—è: –û–û–û "–ù–ü–ê –í–∏—Ä–∞-–†–µ–∞–ª—Ç–∞–π–º"**

# –°—Ç–∞—Ç—É—Å: –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

## üéØ –¶–ï–õ–ò –ò –ó–ê–î–ê–ß–ò –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏:
1. **–£–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞** - —É–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä—É—é—â–µ–π –ª–æ–≥–∏–∫–∏ (~2037 —Å—Ç—Ä–æ–∫)
2. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è `UniversalInstaller`
3. **–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è** - –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ handlers
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã, –ø—Ä–æ—Ü–µ—Å—Å—ã)
5. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –º–∏–≥—Ä–∞—Ü–∏—è –±–µ–∑ –ª–æ–º–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞:
- ‚úÖ –°—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è/—É–¥–∞–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ handlers
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≤—Å–µ –∫–∞–Ω–∞–ª—ã
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª –ø—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ

---

## üìä –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–ª–∞—Å—Å—ã:

#### 1. –ö–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ë–£–î–£–¢ –£–î–ê–õ–ï–ù–´:
- **`WineInstaller`** (—Å—Ç—Ä–æ–∫–∏ 2265-3815, ~1550 —Å—Ç—Ä–æ–∫)
  - –ú–µ—Ç–æ–¥—ã: `install_wine_packages()`, `setup_wine_environment()`, `_ensure_wineprefix_architecture()`, `install_winetricks_components()`, `install_astra_ide()`, `create_start_script()`, `create_desktop_shortcut()`
  
- **`WineUninstaller`** (—Å—Ç—Ä–æ–∫–∏ 4272-4759, ~487 —Å—Ç—Ä–æ–∫)
  - –ú–µ—Ç–æ–¥—ã: `remove_wine_packages()`, `remove_wineprefix()`, `remove_ide()`, `remove_all_wine_data()`

#### 2. –ö–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –û–°–¢–ê–ù–£–¢–°–Ø:
- **`WinetricksManager`** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è handlers
- **`MinimalWinetricks`** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è WinetricksManager
- **`UniversalInstaller`** - –±—É–¥–µ—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- **`WineComponentsChecker`** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–æ—Å—Ç–∞–µ—Ç—Å—è)
- **`UniversalProcessRunner`** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è handlers
- **`DualStreamLogger`** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è handlers
- **`UniversalProgressManager`** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è handlers

#### 3. –ö–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ë–£–î–£–¢ –î–û–ë–ê–í–õ–ï–ù–´:
- **`ComponentHandler`** - –±–∞–∑–æ–≤—ã–π –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å
- **`WinePackageHandler`** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ Wine –ø–∞–∫–µ—Ç–æ–≤
- **`WineEnvironmentHandler`** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ Wine –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **`WinetricksHandler`** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ winetricks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **`SystemConfigHandler`** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **`ApplicationHandler`** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (Astra.IDE)

---

## üèóÔ∏è –¶–ï–õ–ï–í–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ handlers:

```
ComponentHandler (–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å)
‚îú‚îÄ‚îÄ WinePackageHandler (wine_packages)
‚îÇ   ‚îú‚îÄ‚îÄ install() - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ apt
‚îÇ   ‚îú‚îÄ‚îÄ uninstall() - —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ apt-get purge
‚îÇ   ‚îî‚îÄ‚îÄ check_status() - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ check_paths
‚îÇ
‚îú‚îÄ‚îÄ WineEnvironmentHandler (wine_environment)
‚îÇ   ‚îú‚îÄ‚îÄ install() - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WINEPREFIX + –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞
‚îÇ   ‚îú‚îÄ‚îÄ uninstall() - —É–¥–∞–ª–µ–Ω–∏–µ WINEPREFIX
‚îÇ   ‚îî‚îÄ‚îÄ check_status() - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è WINEPREFIX
‚îÇ
‚îú‚îÄ‚îÄ WinetricksHandler (winetricks)
‚îÇ   ‚îú‚îÄ‚îÄ install() - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ WinetricksManager
‚îÇ   ‚îú‚îÄ‚îÄ uninstall() - —É–¥–∞–ª–µ–Ω–∏–µ winetricks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ check_status() - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ check_paths
‚îÇ
‚îú‚îÄ‚îÄ SystemConfigHandler (system_config)
‚îÇ   ‚îú‚îÄ‚îÄ install() - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ ptrace_scope –∏ —Ç.–¥.
‚îÇ   ‚îú‚îÄ‚îÄ uninstall() - –æ—Ç–∫–∞—Ç —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ   ‚îî‚îÄ‚îÄ check_status() - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
‚îÇ
‚îî‚îÄ‚îÄ ApplicationHandler (application)
    ‚îú‚îÄ‚îÄ install() - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ .exe + —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤/—è—Ä–ª—ã–∫–æ–≤
    ‚îú‚îÄ‚îÄ uninstall() - —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è + —Å–∫—Ä–∏–ø—Ç–æ–≤/—è—Ä–ª—ã–∫–æ–≤
    ‚îî‚îÄ‚îÄ check_status() - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ check_paths
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```
ComponentHandler
‚îú‚îÄ‚îÄ universal_runner (UniversalProcessRunner)
‚îÇ   ‚îú‚îÄ‚îÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —á–µ—Ä–µ–∑ run_process()
‚îÇ   ‚îú‚îÄ‚îÄ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ log_info/log_error
‚îÇ   ‚îî‚îÄ‚îÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GUI —á–µ—Ä–µ–∑ gui_callback
‚îÇ
‚îú‚îÄ‚îÄ progress_manager (UniversalProgressManager)
‚îÇ   ‚îú‚îÄ‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —á–µ—Ä–µ–∑ update_progress()
‚îÇ   ‚îî‚îÄ‚îÄ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ GUI –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ dual_logger (DualStreamLogger)
‚îÇ   ‚îú‚îÄ‚îÄ RAW –ø–æ—Ç–æ–∫ —á–µ—Ä–µ–∑ write_raw()
‚îÇ   ‚îî‚îÄ‚îÄ ANALYSIS –ø–æ—Ç–æ–∫ —á–µ—Ä–µ–∑ write_analysis()
‚îÇ
‚îî‚îÄ‚îÄ callback (—Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è GUI)
    ‚îî‚îÄ‚îÄ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤ GUI
```

---

## üìù –ü–û–®–ê–ì–û–í–´–ô –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –≠–¢–ê–ü 0: –ü–û–î–ì–û–¢–û–í–ö–ê (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô)

#### –®–∞–≥ 0.1: –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–ª–∞–Ω–∞
- [x] –°–æ–∑–¥–∞–Ω –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (`REFACTORING_PLAN_COMPONENT_HANDLERS.md`)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

#### –®–∞–≥ 0.2: –ë—ç–∫–∞–ø —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å git –≤–µ—Ç–∫—É: `git checkout -b refactoring/component-handlers`
- [ ] –°–¥–µ–ª–∞—Ç—å –∫–æ–º–º–∏—Ç —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è: `git commit -am "–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º"`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

#### –®–∞–≥ 0.3: –ê–Ω–∞–ª–∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [ ] –ù–∞–π—Ç–∏ –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `WineInstaller`:
  ```bash
  grep -n "WineInstaller" astra_automation.py
  ```
- [ ] –ù–∞–π—Ç–∏ –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `WineUninstaller`:
  ```bash
  grep -n "WineUninstaller" astra_automation.py
  ```
- [ ] –°–æ—Å—Ç–∞–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏

---

### –≠–¢–ê–ü 1: –°–û–ó–î–ê–ù–ò–ï –ë–ê–ó–û–í–û–ì–û –ö–õ–ê–°–°–ê (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô)

#### –®–∞–≥ 1.1: –°–æ–∑–¥–∞–Ω–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ ComponentHandler
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –í—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ —Å—Ç—Ä–æ–∫–∏ 232 (–ø–æ—Å–ª–µ `COMPONENTS_CONFIG`)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç: `from abc import ABC, abstractmethod` (–µ—Å–ª–∏ –Ω–µ—Ç –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞)
2. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `ComponentHandler` —Å –±–∞–∑–æ–≤—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏:
   - `__init__()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
   - `_log()` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - `_update_progress()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
   - `_run_process()` - –∑–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
   - –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –º–µ—Ç–æ–¥—ã: `install()`, `uninstall()`, `check_status()`, `get_category()`

**–ö–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏:**

```python
# ============================================================================
# –ë–ê–ó–û–í–´–ô –ö–õ–ê–°–° –î–õ–Ø –û–ë–†–ê–ë–û–¢–ß–ò–ö–û–í –ö–û–ú–ü–û–ù–ï–ù–¢–û–í
# ============================================================================
from abc import ABC, abstractmethod

class ComponentHandler(ABC):
    """–ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º"""
    
    def __init__(self, 
                 astrapack_dir=None,
                 logger=None,
                 callback=None,
                 universal_runner=None,
                 progress_manager=None,
                 dual_logger=None):
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
        
        Args:
            astrapack_dir: –ü—É—Ç—å –∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ AstraPack
            logger: –≠–∫–∑–µ–º–ø–ª—è—Ä Logger –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª
            callback: –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –≤ GUI
            universal_runner: UniversalProcessRunner –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
            progress_manager: UniversalProgressManager –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
            dual_logger: DualStreamLogger –¥–ª—è –¥–≤–æ–π–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
        """
        self.astrapack_dir = astrapack_dir
        self.logger = logger
        self.callback = callback
        self.universal_runner = universal_runner or get_global_universal_runner()
        self.progress_manager = progress_manager
        self.dual_logger = dual_logger
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –¥–æ–º–∞—à–Ω—é—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –†–ï–ê–õ–¨–ù–û–ì–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        real_user = os.environ.get('SUDO_USER')
        if real_user and real_user != 'root':
            import pwd
            self.home = pwd.getpwnam(real_user).pw_dir
        else:
            self.home = os.path.expanduser("~")
        
        self.wineprefix = os.path.join(self.home, ".wine-astraregul")
    
    def _log(self, message, level="INFO"):
        """–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ –≤—Å–µ —Å–∏—Å—Ç–µ–º—ã"""
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ UniversalProcessRunner
        if self.universal_runner:
            if level == "ERROR":
                self.universal_runner.log_error(message)
            elif level == "WARNING":
                self.universal_runner.log_warning(message)
            else:
                self.universal_runner.log_info(message)
        
        # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ DualStreamLogger (–µ—Å–ª–∏ –µ—Å—Ç—å)
        if self.dual_logger:
            if level == "ERROR":
                self.dual_logger.write_analysis(f"[ERROR] {message}")
            elif level == "WARNING":
                self.dual_logger.write_analysis(f"[WARNING] {message}")
            else:
                self.dual_logger.write_analysis(f"[INFO] {message}")
        
        # Callback –≤ GUI
        if self.callback:
            self.callback(message)
    
    def _update_progress(self, stage_name, stage_progress, global_progress, details=""):
        """–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —á–µ—Ä–µ–∑ UniversalProgressManager"""
        if self.progress_manager:
            self.progress_manager.update_progress(
                process_type=self.get_category(),
                stage_name=stage_name,
                stage_progress=stage_progress,
                global_progress=global_progress,
                details=details
            )
    
    def _run_process(self, command, process_type="general", channels=["file", "terminal"]):
        """–ó–∞–ø—É—Å–∫ –ø—Ä–æ—Ü–µ—Å—Å–∞ —á–µ—Ä–µ–∑ UniversalProcessRunner"""
        if self.universal_runner:
            return self.universal_runner.run_process(
                command=command,
                process_type=process_type,
                channels=channels
            )
        return -1
    
    @abstractmethod
    def install(self, component_id: str, config: dict) -> bool:
        """–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞"""
        pass
    
    @abstractmethod
    def uninstall(self, component_id: str, config: dict) -> bool:
        """–£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞"""
        pass
    
    @abstractmethod
    def check_status(self, component_id: str, config: dict) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞"""
        pass
    
    @abstractmethod
    def get_category(self) -> str:
        """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤"""
        pass
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ö–æ–¥ –≤—Å—Ç–∞–≤–ª–µ–Ω –ø–æ—Å–ª–µ `COMPONENTS_CONFIG`
- [ ] –ò–º–ø–æ—Ä—Ç `ABC, abstractmethod` –¥–æ–±–∞–≤–ª–µ–Ω –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞ (–µ—Å–ª–∏ –Ω–µ—Ç)
- [ ] –ö–æ–¥ –ø—Ä–æ–≤–µ—Ä–µ–Ω –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å: `python3 -m py_compile astra_automation.py`

---

### –≠–¢–ê–ü 2: –°–û–ó–î–ê–ù–ò–ï HANDLERS (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô)

#### –®–∞–≥ 2.1: –°–æ–∑–¥–∞–Ω–∏–µ WinePackageHandler
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –í—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ –∫–ª–∞—Å—Å–∞ `ComponentHandler` (–ø–æ—Å–ª–µ —à–∞–≥–∞ 1.1)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ò–∑—É—á–∏—Ç—å –º–µ—Ç–æ–¥ `_install_package_manager()` –∏–∑ `UniversalInstaller` (—Å—Ç—Ä–æ–∫–∏ 5063-5099)
2. –ò–∑—É—á–∏—Ç—å –º–µ—Ç–æ–¥ `_uninstall_package_manager()` –∏–∑ `UniversalInstaller` (—Å—Ç—Ä–æ–∫–∏ 5157-5233)
3. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `WinePackageHandler` —Å –º–µ—Ç–æ–¥–∞–º–∏:
   - `install()` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ apt
   - `uninstall()` - —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ apt-get purge
   - `check_status()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ check_paths
   - `get_category()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 'wine_packages'

**–ö–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏:**

```python
# ============================================================================
# –û–ë–†–ê–ë–û–¢–ß–ò–ö WINE –ü–ê–ö–ï–¢–û–í
# ============================================================================
class WinePackageHandler(ComponentHandler):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ Wine –ø–∞–∫–µ—Ç–æ–≤ (wine_astraregul, wine_9)"""
    
    def get_category(self) -> str:
        return 'wine_packages'
    
    def install(self, component_id: str, config: dict) -> bool:
        """–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Wine –ø–∞–∫–µ—Ç–∞ —á–µ—Ä–µ–∑ apt"""
        self._log(f"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: {config['name']}")
        
        # –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
        self._update_progress(
            stage_name=f"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ {config['name']}",
            stage_progress=0,
            global_progress=0,
            details=f"–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ {component_id}"
        )
        
        # –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–º—è .deb —Ñ–∞–π–ª–∞ –∏–∑ component_id
        deb_files = {
            'wine_astraregul': 'wine-astraregul_10.0-rc6-3_amd64.deb',
            'wine_9': 'wine_9.0-1_amd64.deb'
        }
        
        if component_id not in deb_files:
            self._log(f"–û–®–ò–ë–ö–ê: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø–∞–∫–µ—Ç: {component_id}", "ERROR")
            return False
        
        deb_name = deb_files[component_id]
        package_path = os.path.join(self.astrapack_dir, deb_name)
        
        if not os.path.exists(package_path):
            self._log(f"–û–®–ò–ë–ö–ê: –§–∞–π–ª –ø–∞–∫–µ—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω: {package_path}", "ERROR")
            return False
        
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º UniversalProcessRunner –≤–º–µ—Å—Ç–æ subprocess
        self._update_progress(
            stage_name=f"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ {config['name']}",
            stage_progress=50,
            global_progress=50,
            details="–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ apt..."
        )
        
        return_code = self._run_process(
            ['apt', 'install', '-y', package_path],
            process_type="install",
            channels=["file", "terminal", "gui"]
        )
        
        if return_code == 0:
            self._log(f"–ü–∞–∫–µ—Ç {config['name']} —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ")
            self._update_progress(
                stage_name=f"–£—Å—Ç–∞–Ω–æ–≤–∫–∞ {config['name']}",
                stage_progress=100,
                global_progress=100,
                details=f"{config['name']} —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ"
            )
            return True
        else:
            self._log(f"–û–®–ò–ë–ö–ê —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞ {config['name']} (–∫–æ–¥: {return_code})", "ERROR")
            return False
    
    def uninstall(self, component_id: str, config: dict) -> bool:
        """–£–¥–∞–ª–µ–Ω–∏–µ Wine –ø–∞–∫–µ—Ç–∞ —á–µ—Ä–µ–∑ apt-get purge"""
        self._log(f"–£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: {config['name']}")
        
        package_names = {
            'wine_astraregul': 'wine-astraregul',
            'wine_9': 'wine-9.0'
        }
        
        if component_id not in package_names:
            self._log(f"–û–®–ò–ë–ö–ê: –ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è: {component_id}", "ERROR")
            return False
        
        package_name = package_names[component_id]
        
        # –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Wine –ø—Ä–æ—Ü–µ—Å—Å—ã –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º
        self._run_process(['pkill', '-9', 'wine'], process_type="remove")
        self._run_process(['pkill', '-9', 'wineserver'], process_type="remove")
        self._run_process(['pkill', '-9', 'wineboot'], process_type="remove")
        
        import time
        time.sleep(1)
        
        # –£–¥–∞–ª—è–µ–º –ø–∞–∫–µ—Ç —á–µ—Ä–µ–∑ apt-get purge
        return_code = self._run_process(
            ['apt-get', 'purge', '-y', package_name],
            process_type="remove",
            channels=["file", "terminal"]
        )
        
        if return_code == 0:
            self._log(f"–ü–∞–∫–µ—Ç {config['name']} —É–¥–∞–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ")
            # –£–¥–∞–ª—è–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ Wine –≤—Ä—É—á–Ω—É—é
            wine_dirs = {
                'wine_astraregul': '/opt/wine-astraregul',
                'wine_9': '/opt/wine-9.0'
            }
            if component_id in wine_dirs:
                wine_dir = wine_dirs[component_id]
                if os.path.exists(wine_dir):
                    import shutil
                    shutil.rmtree(wine_dir)
                    self._log(f"  –£–¥–∞–ª–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: {wine_dir}")
            return True
        else:
            self._log(f"–û–®–ò–ë–ö–ê —É–¥–∞–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–∞ {config['name']}", "ERROR")
            return False
    
    def check_status(self, component_id: str, config: dict) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Wine –ø–∞–∫–µ—Ç–∞"""
        check_paths = config.get('check_paths', [])
        for path in check_paths:
            if os.path.exists(path):
                return True
        return False
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ö–ª–∞—Å—Å —Å–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `ComponentHandler`
- [ ] –ú–µ—Ç–æ–¥ `install()` —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è `wine_astraregul` –∏ `wine_9`
- [ ] –ú–µ—Ç–æ–¥ `uninstall()` –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ —É–¥–∞–ª—è–µ—Ç –ø–∞–∫–µ—Ç—ã
- [ ] –ú–µ—Ç–æ–¥ `check_status()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ `check_paths`
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_run_process()` –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ `subprocess.run()`
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_log()` –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_update_progress()` –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

#### –®–∞–≥ 2.2: –°–æ–∑–¥–∞–Ω–∏–µ WineEnvironmentHandler
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ `WinePackageHandler`

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ò–∑—É—á–∏—Ç—å –º–µ—Ç–æ–¥ `setup_wine_environment()` –∏–∑ `WineInstaller` (—Å—Ç—Ä–æ–∫–∏ 3094-3168)
2. –ò–∑—É—á–∏—Ç—å –º–µ—Ç–æ–¥ `_ensure_wineprefix_architecture()` –∏–∑ `WineInstaller` (—Å—Ç—Ä–æ–∫–∏ 2483-2546)
3. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `WineEnvironmentHandler` —Å –º–µ—Ç–æ–¥–∞–º–∏:
   - `install()` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è WINEPREFIX + –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—ç—à–∞
   - `uninstall()` - —É–¥–∞–ª–µ–Ω–∏–µ WINEPREFIX
   - `check_status()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è WINEPREFIX
   - `get_category()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 'wine_environment'

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ö–ª–∞—Å—Å —Å–æ–∑–¥–∞–Ω
- [ ] –ú–µ—Ç–æ–¥ `install()` –∫–æ–ø–∏—Ä—É–µ—Ç `wine-gecko` –∏ `winetricks-cache`
- [ ] –ú–µ—Ç–æ–¥ `install()` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç WINEPREFIX —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π win64
- [ ] –ú–µ—Ç–æ–¥ `uninstall()` —É–¥–∞–ª—è–µ—Ç –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é WINEPREFIX
- [ ] –ú–µ—Ç–æ–¥ `check_status()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ `~/.wine-astraregul`
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

#### –®–∞–≥ 2.3: –°–æ–∑–¥–∞–Ω–∏–µ WinetricksHandler
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ `WineEnvironmentHandler`

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ò–∑—É—á–∏—Ç—å –º–µ—Ç–æ–¥ `install_winetricks_components()` –∏–∑ `WineInstaller` (—Å—Ç—Ä–æ–∫–∏ 3325-3384)
2. –ò–∑—É—á–∏—Ç—å –∫–ª–∞—Å—Å `WinetricksManager` (—Å—Ç—Ä–æ–∫–∏ 3820-3945)
3. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `WinetricksHandler` —Å –º–µ—Ç–æ–¥–∞–º–∏:
   - `install()` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ WinetricksManager
   - `uninstall()` - —É–¥–∞–ª–µ–Ω–∏–µ winetricks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—á–µ—Ä–µ–∑ —É–¥–∞–ª–µ–Ω–∏–µ WINEPREFIX)
   - `check_status()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ check_paths
   - `get_category()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 'winetricks'

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ö–ª–∞—Å—Å —Å–æ–∑–¥–∞–Ω
- [ ] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è `WinetricksManager` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
- [ ] –ú–µ—Ç–æ–¥ `install()` –≤—ã–∑—ã–≤–∞–µ—Ç `WinetricksManager.install_wine_packages()`
- [ ] –ú–µ—Ç–æ–¥ `install()` –ø–µ—Ä–µ–¥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `wineprefix`
- [ ] –ú–µ—Ç–æ–¥ `install()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç callback –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞
- [ ] –ú–µ—Ç–æ–¥ `check_status()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–∞–π–ª—ã –∏–∑ `check_paths` –≤ WINEPREFIX
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ñ–ª–∞–≥ `use_minimal_winetricks`

#### –®–∞–≥ 2.4: –°–æ–∑–¥–∞–Ω–∏–µ SystemConfigHandler
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ `WinetricksHandler`

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ò–∑—É—á–∏—Ç—å –º–µ—Ç–æ–¥ `_install_system_config()` –∏–∑ `UniversalInstaller` (—Å—Ç—Ä–æ–∫–∏ 5101-5129)
2. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `SystemConfigHandler` —Å –º–µ—Ç–æ–¥–∞–º–∏:
   - `install()` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ ptrace_scope
   - `uninstall()` - –æ—Ç–∫–∞—Ç —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
   - `check_status()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
   - `get_category()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 'system_config'

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ö–ª–∞—Å—Å —Å–æ–∑–¥–∞–Ω
- [ ] –ú–µ—Ç–æ–¥ `install()` –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç `ptrace_scope=0` —á–µ—Ä–µ–∑ `sysctl`
- [ ] –ú–µ—Ç–æ–¥ `uninstall()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `ptrace_scope` –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é
- [ ] –ú–µ—Ç–æ–¥ `check_status()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ `/proc/sys/kernel/yama/ptrace_scope`

#### –®–∞–≥ 2.5: –°–æ–∑–¥–∞–Ω–∏–µ ApplicationHandler
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ `SystemConfigHandler`

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ò–∑—É—á–∏—Ç—å –º–µ—Ç–æ–¥ `install_astra_ide()` –∏–∑ `WineInstaller` (—Å—Ç—Ä–æ–∫–∏ 3581-3763)
2. –ò–∑—É—á–∏—Ç—å –º–µ—Ç–æ–¥ `create_start_script()` –∏–∑ `WineInstaller` (—Å—Ç—Ä–æ–∫–∏ 3513-3579)
3. –°–æ–∑–¥–∞—Ç—å –∫–ª–∞—Å—Å `ApplicationHandler` —Å –º–µ—Ç–æ–¥–∞–º–∏:
   - `install()` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ .exe + —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤/—è—Ä–ª—ã–∫–æ–≤
   - `uninstall()` - —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è + —Å–∫—Ä–∏–ø—Ç–æ–≤/—è—Ä–ª—ã–∫–æ–≤
   - `check_status()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ check_paths
   - `get_category()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 'application'

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ö–ª–∞—Å—Å —Å–æ–∑–¥–∞–Ω
- [ ] –ú–µ—Ç–æ–¥ `install()` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç .exe —á–µ—Ä–µ–∑ Wine
- [ ] –ú–µ—Ç–æ–¥ `install()` —Å–æ–∑–¥–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ `~/start-astraide.sh`
- [ ] –ú–µ—Ç–æ–¥ `install()` —Å–æ–∑–¥–∞–µ—Ç —è—Ä–ª—ã–∫ `~/Desktop/AstraRegul.desktop`
- [ ] –ú–µ—Ç–æ–¥ `uninstall()` —É–¥–∞–ª—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å–∫—Ä–∏–ø—Ç –∏ —è—Ä–ª—ã–∫
- [ ] –ú–µ—Ç–æ–¥ `check_status()` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ .exe, —Å–∫—Ä–∏–ø—Ç–∞ –∏ —è—Ä–ª—ã–∫–∞
- [ ] –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ sudo

---

### –≠–¢–ê–ü 3: –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø HANDLERS –í UNIVERSALINSTALLER (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô)

#### –®–∞–≥ 3.1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ–ª–∞–≥–∞ use_handlers
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `__init__()` –∫–ª–∞—Å—Å–∞ `UniversalInstaller` (—Å—Ç—Ä–æ–∫–∞ 4768)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```python
def __init__(self, logger=None, callback=None, 
             use_handlers=False,  # –ù–û–í–´–ô –ü–ê–†–ê–ú–ï–¢–†
             use_minimal_winetricks=True,  # –ù–û–í–´–ô –ü–ê–†–ê–ú–ï–¢–†
             universal_runner=None,  # –ù–û–í–´–ô –ü–ê–†–ê–ú–ï–¢–†
             progress_manager=None,  # –ù–û–í–´–ô –ü–ê–†–ê–ú–ï–¢–†
             dual_logger=None):  # –ù–û–í–´–ô –ü–ê–†–ê–ú–ï–¢–†
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
    self.use_handlers = use_handlers
    self.use_minimal_winetricks = use_minimal_winetricks
    self.universal_runner = universal_runner or get_global_universal_runner()
    self.progress_manager = progress_manager
    self.dual_logger = dual_logger
    
    # –†–µ–µ—Å—Ç—Ä –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
    self.handlers = {}
    if self.use_handlers:
        self._register_handlers()
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä `use_handlers` –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä `use_minimal_winetricks` –¥–æ–±–∞–≤–ª–µ–Ω
- [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `self.use_handlers`, `self.use_minimal_winetricks` –∏ —Ç.–¥.

#### –®–∞–≥ 3.2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è handlers
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ `__init__()` –∫–ª–∞—Å—Å–∞ `UniversalInstaller`

**–ö–æ–¥ –¥–ª—è –≤—Å—Ç–∞–≤–∫–∏:**

```python
def _register_handlers(self):
    """–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤"""
    # –û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤—Å–µ—Ö handlers
    common_params = {
        'astrapack_dir': self.astrapack_dir,
        'logger': self.logger,
        'callback': self.callback,
        'universal_runner': self.universal_runner,
        'progress_manager': self.progress_manager,
        'dual_logger': self.dual_logger
    }
    
    # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º handlers
    self.handlers['wine_packages'] = WinePackageHandler(**common_params)
    self.handlers['wine_environment'] = WineEnvironmentHandler(**common_params)
    self.handlers['winetricks'] = WinetricksHandler(
        use_minimal=self.use_minimal_winetricks,
        **common_params
    )
    self.handlers['system_config'] = SystemConfigHandler(**common_params)
    self.handlers['application'] = ApplicationHandler(**common_params)
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ú–µ—Ç–æ–¥ `_register_handlers()` —Å–æ–∑–¥–∞–Ω
- [ ] –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ `__init__()` –µ—Å–ª–∏ `use_handlers=True`
- [ ] –í—Å–µ handlers –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤–æ –≤—Å–µ handlers

#### –®–∞–≥ 3.3: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ install_component()
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `install_component()` –∫–ª–∞—Å—Å–∞ `UniversalInstaller` (—Å—Ç—Ä–æ–∫–∞ 4917)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```python
def install_component(self, component_id):
    """–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–¥–Ω–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞"""
    if component_id not in COMPONENTS_CONFIG:
        self._log("–û—à–∏–±–∫–∞: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç '%s' –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏" % component_id, "ERROR")
        return False
    
    config = COMPONENTS_CONFIG[component_id]
    
    # –ù–û–í–ê–Ø –õ–û–ì–ò–ö–ê: –ò—Å–ø–æ–ª—å–∑—É–µ–º handlers –µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω —Ñ–ª–∞–≥
    if self.use_handlers:
        category = config.get('category')
        if category in self.handlers:
            handler = self.handlers[category]
            return handler.install(component_id, config)
        else:
            self._log(f"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: {category}", "ERROR")
            return False
    
    # –°–¢–ê–†–ê–Ø –õ–û–ì–ò–ö–ê: –ò—Å–ø–æ–ª—å–∑—É–µ–º install_method (–æ—Å—Ç–∞–≤–ª—è–µ–º –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏)
    install_method = config['install_method']
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ ...
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ `use_handlers` –¥–æ–±–∞–≤–ª–µ–Ω–∞
- [ ] –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç handlers
- [ ] –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –æ–±–æ–∏—Ö –ø—É—Ç–µ–π

#### –®–∞–≥ 3.4: –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –º–µ—Ç–æ–¥–∞ uninstall_component()
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `uninstall_component()` –∫–ª–∞—Å—Å–∞ `UniversalInstaller` (—Å—Ç—Ä–æ–∫–∞ 4958)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:** –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `install_component()` - –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `use_handlers`

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —à–∞–≥—É 3.3

---

### –≠–¢–ê–ü 4: –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –í GUI (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –í–´–°–û–ö–ò–ô)

#### –®–∞–≥ 4.1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è UniversalInstaller –≤ GUI
**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ú–µ—Ç–æ–¥ `__init__()` –∫–ª–∞—Å—Å–∞ `AutomationGUI` (—Å—Ç—Ä–æ–∫–∞ 5828)

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
```python
self.universal_installer = UniversalInstaller(
    callback=self._component_status_callback,
    use_handlers=True,  # –í–∫–ª—é—á–∞–µ–º –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
    use_minimal_winetricks=self.use_minimal_winetricks.get(),
    universal_runner=self.universal_runner,
    progress_manager=self.progress_manager,
    dual_logger=_global_dual_logger if '_global_dual_logger' in globals() else None
)
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä `use_handlers=True` –ø–µ—Ä–µ–¥–∞–Ω
- [ ] –ü–∞—Ä–∞–º–µ—Ç—Ä `use_minimal_winetricks` –ø–µ—Ä–µ–¥–∞–Ω –∏–∑ GUI
- [ ] –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–µ—Ä–µ–¥–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

### –≠–¢–ê–ü 5: –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô)

#### –®–∞–≥ 5.1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ handler –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏

**WinePackageHandler:**
- [ ] –¢–µ—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `wine_astraregul` —á–µ—Ä–µ–∑ handler
- [ ] –¢–µ—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `wine_9` —á–µ—Ä–µ–∑ handler
- [ ] –¢–µ—Å—Ç —É–¥–∞–ª–µ–Ω–∏—è `wine_astraregul` —á–µ—Ä–µ–∑ handler
- [ ] –¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –¢–µ—Å—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–∞–π–ª—ã –ª–æ–≥–æ–≤)
- [ ] –¢–µ—Å—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤ (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ GUI)

**WineEnvironmentHandler:**
- [ ] –¢–µ—Å—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ WINEPREFIX —á–µ—Ä–µ–∑ handler
- [ ] –¢–µ—Å—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è wine-gecko
- [ ] –¢–µ—Å—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è winetricks-cache
- [ ] –¢–µ—Å—Ç —É–¥–∞–ª–µ–Ω–∏—è WINEPREFIX
- [ ] –¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞

**WinetricksHandler:**
- [ ] –¢–µ—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ winetricks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (dotnet48, vcrun2013 –∏ —Ç.–¥.)
- [ ] –¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –¢–µ—Å—Ç —Å —Ñ–ª–∞–≥–æ–º `use_minimal_winetricks=True`
- [ ] –¢–µ—Å—Ç —Å —Ñ–ª–∞–≥–æ–º `use_minimal_winetricks=False`

**SystemConfigHandler:**
- [ ] –¢–µ—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ `ptrace_scope`
- [ ] –¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞
- [ ] –¢–µ—Å—Ç –æ—Ç–∫–∞—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

**ApplicationHandler:**
- [ ] –¢–µ—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Astra.IDE
- [ ] –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –∑–∞–ø—É—Å–∫–∞
- [ ] –¢–µ—Å—Ç —Å–æ–∑–¥–∞–Ω–∏—è —è—Ä–ª—ã–∫–∞
- [ ] –¢–µ—Å—Ç —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –¢–µ—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞

#### –®–∞–≥ 5.2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —É—Å—Ç–∞–Ω–æ–≤–∫–∏:**
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ `UniversalInstaller.install_components()`
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –≤—Å–µ –ª–æ–≥–∏ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

**–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —É–¥–∞–ª–µ–Ω–∏—è:**
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ `UniversalInstaller.uninstall_components()`
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–æ —Å—Ç–∞—Ä–æ–π –ª–æ–≥–∏–∫–æ–π:**
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —á–µ—Ä–µ–∑ handlers vs —á–µ—Ä–µ–∑ —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π
- [ ] –õ–æ–≥–∏ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ

#### –®–∞–≥ 5.3: –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ —Å—Ç–∞—Ä—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å `use_handlers=False` —Ä–∞–±–æ—Ç–∞–µ—Ç (—Å—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞)
- [ ] –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] GUI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –í—Å–µ –∫–Ω–æ–ø–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

---

### –≠–¢–ê–ü 6: –ú–ò–ì–†–ê–¶–ò–Ø –ù–ê –ù–û–í–£–Æ –ê–†–•–ò–¢–ï–ö–¢–£–†–£ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô)

#### –®–∞–≥ 6.1: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ handlers

**–ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏:**
1. **–§–∞–∑–∞ 1:** –í–∫–ª—é—á–∏—Ç—å handlers —Ç–æ–ª—å–∫–æ –¥–ª—è `wine_packages`
   - [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `use_handlers=True` —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ `wine_packages`
   - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É/—É–¥–∞–ª–µ–Ω–∏–µ Wine –ø–∞–∫–µ—Ç–æ–≤
   - [ ] –ï—Å–ª–∏ –≤—Å–µ –û–ö - –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ñ–∞–∑–µ 2

2. **–§–∞–∑–∞ 2:** –î–æ–±–∞–≤–∏—Ç—å `wine_environment`
   - [ ] –í–∫–ª—é—á–∏—Ç—å handlers –¥–ª—è `wine_packages` + `wine_environment`
   - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª Wine
   - [ ] –ï—Å–ª–∏ –≤—Å–µ –û–ö - –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ñ–∞–∑–µ 3

3. **–§–∞–∑–∞ 3:** –î–æ–±–∞–≤–∏—Ç—å `winetricks`
   - [ ] –í–∫–ª—é—á–∏—Ç—å handlers –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π Wine
   - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É winetricks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - [ ] –ï—Å–ª–∏ –≤—Å–µ –û–ö - –ø–µ—Ä–µ–π—Ç–∏ –∫ —Ñ–∞–∑–µ 4

4. **–§–∞–∑–∞ 4:** –î–æ–±–∞–≤–∏—Ç—å `system_config` –∏ `application`
   - [ ] –í–∫–ª—é—á–∏—Ç—å handlers –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
   - [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - [ ] –ï—Å–ª–∏ –≤—Å–µ –û–ö - –ø–µ—Ä–µ–π—Ç–∏ –∫ —ç—Ç–∞–ø—É 7

#### –®–∞–≥ 6.2: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–∫–∞—Ç

**–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ—Ç–∫–∞—Ç–∞:**
- [ ] –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ - —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `use_handlers=False`
- [ ] –°—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —Ä–∞–Ω—å—à–µ
- [ ] –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É –≤ –ª–æ–≥–∞—Ö
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É –≤ handlers
- [ ] –ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

---

### –≠–¢–ê–ü 7: –£–î–ê–õ–ï–ù–ò–ï –°–¢–ê–†–û–ì–û –ö–û–î–ê (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –ù–ò–ó–ö–ò–ô)

#### –®–∞–≥ 7.1: –£–¥–∞–ª–µ–Ω–∏–µ WineInstaller

**–£—Å–ª–æ–≤–∏—è:**
- [ ] –í—Å–µ handlers –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] `use_handlers=True` —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- [ ] –ù–∏–∫—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `WineInstaller` –Ω–∞–ø—Ä—è–º—É—é

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ù–∞–π—Ç–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `WineInstaller`
2. –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å `WineInstaller` (—Å—Ç—Ä–æ–∫–∏ 2265-3815)
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–ª–æ—Å—å

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ö–ª–∞—Å—Å `WineInstaller` —É–¥–∞–ª–µ–Ω –∏–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –í—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ–≥–æ —É–¥–∞–ª–µ–Ω—ã
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] GUI —Ä–∞–±–æ—Ç–∞–µ—Ç

#### –®–∞–≥ 7.2: –£–¥–∞–ª–µ–Ω–∏–µ WineUninstaller

**–£—Å–ª–æ–≤–∏—è:**
- [ ] –í—Å–µ handlers –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç `uninstall()`
- [ ] `use_handlers=True` —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –ù–∞–π—Ç–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `WineUninstaller`
2. –£–¥–∞–ª–∏—Ç—å –∏–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å `WineUninstaller` (—Å—Ç—Ä–æ–∫–∏ 4272-4759)
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –ö–ª–∞—Å—Å `WineUninstaller` —É–¥–∞–ª–µ–Ω –∏–ª–∏ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- [ ] –í—Å–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –Ω–µ–≥–æ —É–¥–∞–ª–µ–Ω—ã
- [ ] –¢–µ—Å—Ç—ã —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç

#### –®–∞–≥ 7.3: –û—á–∏—Å—Ç–∫–∞ UniversalInstaller

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –º–µ—Ç–æ–¥—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–∑ `UniversalInstaller`
2. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –º–µ—Ç–æ–¥—ã —É–¥–∞–ª–µ–Ω–∏—è
3. –£–ø—Ä–æ—Å—Ç–∏—Ç—å –º–µ—Ç–æ–¥—ã `install_component()` –∏ `uninstall_component()`

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –í—Å–µ —Å—Ç–∞—Ä—ã–µ –º–µ—Ç–æ–¥—ã —É–¥–∞–ª–µ–Ω—ã
- [ ] `install_component()` –∏ `uninstall_component()` —É–ø—Ä–æ—â–µ–Ω—ã
- [ ] –ö–æ–¥ —Å—Ç–∞–ª –∫–æ—Ä–æ—á–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

#### –®–∞–≥ 7.4: –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–ª–∞–≥–∞ use_handlers

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
1. –£–¥–∞–ª–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä `use_handlers` –∏–∑ `__init__()`
2. –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `if self.use_handlers:` –≤–µ–∑–¥–µ
3. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É –ø–æ–ª–Ω–æ—Å—Ç—å—é

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –§–ª–∞–≥ `use_handlers` —É–¥–∞–ª–µ–Ω
- [ ] –ö–æ–¥ —É–ø—Ä–æ—â–µ–Ω
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

---

### –≠–¢–ê–ü 8: –§–ò–ù–ê–õ–ò–ó–ê–¶–ò–Ø (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: –°–†–ï–î–ù–ò–ô)

#### –®–∞–≥ 8.1: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `README.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `WINE_INSTALL_GUIDE.md`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥ handlers
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –®–∞–≥ 8.2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ—Ç –ª–∏ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –º–µ–∂–¥—É handlers
- [ ] –í—ã–Ω–µ—Å—Ç–∏ –æ–±—â—É—é –ª–æ–≥–∏–∫—É –≤ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `ComponentHandler`
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã handlers
- [ ] –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫

#### –®–∞–≥ 8.3: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### –®–∞–≥ 8.4: –ö–æ–º–º–∏—Ç –∏ —Å–ª–∏—è–Ω–∏–µ
- [ ] –°–æ–∑–¥–∞—Ç—å –∫–æ–º–º–∏—Ç —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –°–ª–∏—Ç—å –≤–µ—Ç–∫—É `refactoring/component-handlers` –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ç–∫—É
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ–≥ –≤–µ—Ä—Å–∏–∏
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ –∫–æ–¥–µ

---

## üîç –ö–†–ò–¢–ï–†–ò–ò –£–°–ü–ï–•–ê

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è/—É–¥–∞–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ handlers
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ –≤—Å–µ –∫–∞–Ω–∞–ª—ã (—Ñ–∞–π–ª, —Ç–µ—Ä–º–∏–Ω–∞–ª, GUI)
- ‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ä–∞–∑—Ä–µ—à–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
- ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª –∫–æ—Ä–æ—á–µ (—É–¥–∞–ª–µ–Ω–æ ~2037 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ –∫–æ–¥–∞)
- ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª –ø–æ–Ω—è—Ç–Ω–µ–µ (–ª–æ–≥–∏–∫–∞ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ handlers)
- ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª —Ä–∞—Å—à–∏—Ä—è–µ–º–µ–µ (–Ω–æ–≤—ã–π handler = –Ω–æ–≤—ã–π —Ç–∏–ø –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
- ‚úÖ –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –º–µ–∂–¥—É handlers

### –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ –ù–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ
- ‚úÖ –ö–æ–¥ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ–Ω—è—Ç–Ω—ã –Ω–æ–≤–æ–º—É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É

---

## ‚ö†Ô∏è –†–ò–°–ö–ò –ò –°–ü–û–°–û–ë–´ –ò–• –ú–ò–ù–ò–ú–ò–ó–ê–¶–ò–ò

### –†–∏—Å–∫ 1: –ü–æ–ª–æ–º–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
**–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–ª–∞–≥ `use_handlers` –¥–ª—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—Ç–∞—Ä—É—é –ª–æ–≥–∏–∫—É –¥–æ –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ

### –†–∏—Å–∫ 2: –ü–æ—Ç–µ—Ä—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏–ª–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
**–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è:**
- –ö–∞–∂–¥—ã–π handler –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É —á–µ—Ä–µ–∑ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ handler
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ –∫–∞–Ω–∞–ª—ã –≤—ã–≤–æ–¥–∞

### –†–∏—Å–∫ 3: –û—à–∏–±–∫–∏ –≤ handlers
**–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è:**
- –ü–æ—à–∞–≥–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ handler
- Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞

### –†–∏—Å–∫ 4: –ü—Ä–æ–±–ª–µ–º—ã —Å –º–∏–≥—Ä–∞—Ü–∏–µ–π
**–ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è:**
- –ü–æ—ç—Ç–∞–ø–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (–æ–¥–∏–Ω handler –∑–∞ —Ä–∞–∑)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞ —á–µ—Ä–µ–∑ `use_handlers=False`
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

## üìö –°–ü–†–ê–í–û–ß–ù–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø

### –°–≤—è–∑—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
```
COMPONENTS_CONFIG['category']
    ‚Üì
UniversalInstaller.handlers['category']
    ‚Üì
ComponentHandler.install/uninstall
    ‚Üì
UniversalProcessRunner / DualStreamLogger / UniversalProgressManager
```

### –ü–æ—Ä—è–¥–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
1. `wine_packages` (Wine –ø–∞–∫–µ—Ç—ã)
2. `system_config` (ptrace_scope)
3. `wine_environment` (WINEPREFIX)
4. `winetricks` (winetricks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
5. `application` (Astra.IDE + —Å–∫—Ä–∏–ø—Ç—ã + —è—Ä–ª—ã–∫–∏)

### –ü–æ—Ä—è–¥–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
1. `application` (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ + —Å–∫—Ä–∏–ø—Ç—ã + —è—Ä–ª—ã–∫–∏)
2. `winetricks` (winetricks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
3. `wine_environment` (WINEPREFIX)
4. `system_config` (–æ—Ç–∫–∞—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫)
5. `wine_packages` (Wine –ø–∞–∫–µ—Ç—ã)

---

## üìù –ó–ê–ú–ï–¢–ö–ò –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê

### –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:
1. **–í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä—É–π –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞** - –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏
2. **–ò—Å–ø–æ–ª—å–∑—É–π git** - –∫–æ–º–º–∏—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ —à–∞–≥–∞
3. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π –ø—Ä–æ–±–ª–µ–º—ã** - –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö
4. **–ù–µ —Ç–æ—Ä–æ–ø–∏—Å—å** - –ª—É—á—à–µ –º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —á–µ–º –±—ã—Å—Ç—Ä–æ —Å –æ—à–∏–±–∫–∞–º–∏

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
python3 -m py_compile astra_automation.py

# –ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–ª–∞—Å—Å–∞
grep -n "WineInstaller" astra_automation.py

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)
./test-environment/test_all_components.sh
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –§–ò–ù–ê–õ–¨–ù–û–ô –ü–†–û–í–ï–†–ö–ò

–ü–µ—Ä–µ–¥ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ–º —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- [ ] –í—Å–µ handlers —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –°—Ç–∞—Ä—ã–π –∫–æ–¥ —É–¥–∞–ª–µ–Ω
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] GUI —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ö–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –í–µ—Ç–∫–∞ —Å–ª–∏—Ç–∞ –≤ –æ—Å–Ω–æ–≤–Ω—É—é

---

**–ö–û–ù–ï–¶ –ü–õ–ê–ù–ê –†–ï–§–ê–ö–¢–û–†–ò–ù–ì–ê**

–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω–∞: 2025-10-31
–í–µ—Ä—Å–∏—è –ø–ª–∞–Ω–∞: 1.0
–°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í –ö –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

