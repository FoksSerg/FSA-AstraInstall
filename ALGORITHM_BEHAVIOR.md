# –í–µ—Ä—Å–∏—è: V2.5.114 (2025.11.03)

# –ê–õ–ì–û–†–ò–¢–ú –ü–û–í–ï–î–ï–ù–ò–Ø –°–ò–°–¢–ï–ú–´ –£–°–¢–ê–ù–û–í–ö–ò/–£–î–ê–õ–ï–ù–ò–Ø

## üéØ –û–°–ù–û–í–ù–´–ï –ü–†–ò–ù–¶–ò–ü–´

### 1. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è/—É–¥–∞–ª—è—é—Ç—Å—è –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û** (–Ω–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ!)
- –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∂–¥–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ
- –°—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º

### 2. –°—Ç–∞—Ç—É—Å—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ‚ö†Ô∏è
- `missing` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**
- `pending` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–±—Ä–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º, –∂–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏/—É–¥–∞–ª–µ–Ω–∏—è ‚ùå **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**
- `installing` / `removing` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏/—É–¥–∞–ª–µ–Ω–∏—è ‚ùå **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**
- `ok` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ** (—á–µ—Ä–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫—É —Ñ–∞–π–ª–æ–≤)
- `error` - –æ—à–∏–±–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏/—É–¥–∞–ª–µ–Ω–∏—è ‚ùå **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**

**–í–ù–ò–ú–ê–ù–ò–ï:** –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ `ComponentStatusManager` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏, –Ω–æ –æ–Ω–∏ **–ù–ï –≤—ã–∑—ã–≤–∞—é—Ç—Å—è** –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏/—É–¥–∞–ª–µ–Ω–∏—è. `UniversalInstaller` –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ `ComponentStatusManager` –∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å—ã –≤–æ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

### 3. –ß–µ–∫–±–æ–∫—Å—ã
- **–°–Ω–∏–º–∞—é—Ç—Å—è –¢–û–õ–¨–ö–û —Å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤** (—Å—Ç–∞—Ç—É—Å `ok` –∏–ª–∏ `missing` –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–∏)
- **–ù–ï —Å–Ω–∏–º–∞—é—Ç—Å—è** —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ (`pending`, `installing`, `removing`)
- **–ù–ï —Å–Ω–∏–º–∞—é—Ç—Å—è** —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –æ—à–∏–±–∫–æ–π (`error`)

### 4. –ö–Ω–æ–ø–∫–∏
- **–ë–ª–æ–∫–∏—Ä—É—é—Ç—Å—è** –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏/—É–¥–∞–ª–µ–Ω–∏—è
- **–†–∞–∑–±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è** –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

## üìã –°–¶–ï–ù–ê–†–ò–ô 1: –£–°–¢–ê–ù–û–í–ö–ê –û–î–ù–û–ì–û –†–û–î–ò–¢–ï–õ–¨–°–ö–û–ì–û –ö–û–ú–ü–û–ù–ï–ù–¢–ê

**–ü—Ä–∏–º–µ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª —Ç–æ–ª—å–∫–æ `WINEPREFIX`

### –≠—Ç–∞–ø 1: –í—ã–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ—á–∞–µ—Ç —á–µ–∫–±–æ–∫—Å `WINEPREFIX` ‚Üí `‚òë`
2. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å"

### –≠—Ç–∞–ø 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (run_wine_install)
1. –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö: `selected = ['wineprefix']` (ID –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
2. –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏ "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å" –∏ "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å"
3. –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Ç–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ `_perform_wine_install(selected)`
4. **–í–ù–ò–ú–ê–ù–ò–ï:** –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞—Ç—É—Å `pending` –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
5. –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏ `install_components()`:
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `resolve_dependencies(selected)`
   - `WINEPREFIX` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `wine_astraregul`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è `wine_astraregul`
   - –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏: `['wine_astraregul', 'wineprefix']`

### –≠—Ç–∞–ø 3: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (_perform_wine_install ‚Üí install_components)
**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–í–ê–ñ–ù–û: –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û!):**

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 1: `wine_astraregul` (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ `check_component_status('wine_astraregul')`: –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Üí –Ω–∞—á–∏–Ω–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
2. **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** - –æ—Å—Ç–∞–µ—Ç—Å—è `missing` (—Å—Ç–∞—Ç—É—Å `installing` –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è!)
3. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `install_component('wine_astraregul')` ‚Üí **–ñ–î–ï–ú –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è** (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ!)
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
   - ‚úÖ –£—Å–ø–µ—Ö ‚Üí —Å—Ç–∞—Ç—É—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–µ –∫–∞–∫ `ok`
   - ‚ùå –û—à–∏–±–∫–∞ ‚Üí —Å—Ç–∞—Ç—É—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–µ –∫–∞–∫ `missing`
5. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è callback `UPDATE_COMPONENT:wine_astraregul` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è GUI
6. **–ß–µ–∫–±–æ–∫—Å:** –ù–ï –º–µ–Ω—è–µ—Ç—Å—è (–Ω–µ –±—ã–ª –≤—ã–±—Ä–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 2: `wineprefix` (–≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
1. –ü—Ä–æ–≤–µ—Ä–∫–∞ `check_component_status('wineprefix')`: –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Üí –Ω–∞—á–∏–Ω–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
2. **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è** - –æ—Å—Ç–∞–µ—Ç—Å—è `missing` (—Å—Ç–∞—Ç—É—Å `installing` –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è!)
3. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `install_component('wineprefix')` ‚Üí **–ñ–î–ï–ú –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è** (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ!)
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
   - ‚úÖ –£—Å–ø–µ—Ö ‚Üí —Å—Ç–∞—Ç—É—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–µ –∫–∞–∫ `ok`
   - ‚ùå –û—à–∏–±–∫–∞ ‚Üí —Å—Ç–∞—Ç—É—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–µ –∫–∞–∫ `missing`
5. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è callback `UPDATE_COMPONENT:wineprefix` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è GUI
6. **–ß–µ–∫–±–æ–∫—Å:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è GUI ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–Ω–∏–º–∞–µ—Ç—Å—è (—Å—Ç–∞—Ç—É—Å `ok`)

### –≠—Ç–∞–ø 4: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ (_install_completed)
1. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (—Ç–∞–π–º–µ—Ä—ã, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
2. –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏
3. –û–±–Ω–æ–≤–ª—è–µ–º GUI (–≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã)
4. –°–Ω–∏–º–∞–µ–º —á–µ–∫–±–æ–∫—Å—ã —Å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

## üìã –°–¶–ï–ù–ê–†–ò–ô 2: –£–°–¢–ê–ù–û–í–ö–ê –û–î–ù–û–ì–û –î–û–ß–ï–†–ù–ï–ì–û –ö–û–ú–ü–û–ù–ï–ù–¢–ê

**–ü—Ä–∏–º–µ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª —Ç–æ–ª—å–∫–æ `Wine Mono`

### –≠—Ç–∞–ø 1: –í—ã–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ—á–∞–µ—Ç —á–µ–∫–±–æ–∫—Å `Wine Mono` ‚Üí `‚òë`
2. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å"

### –≠—Ç–∞–ø 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (run_wine_install)
1. –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö: `selected = ['wine-mono']`
2. **–†–∞–∑—Ä–µ—à–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   - `Wine Mono` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `wineprefix`
   - `wineprefix` –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `wine_astraregul`
   - –î–æ–±–∞–≤–ª—è–µ–º –æ–±–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
   - –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫: `['wine_astraregul', 'wineprefix', 'wine-mono']`
3. **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å—ã:**
   - –¢–æ–ª—å–∫–æ –¥–ª—è –Ø–í–ù–û –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö: `wine-mono` ‚Üí `pending`
   - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ù–ï –ø–æ–ª—É—á–∞—é—Ç `pending`
4. –û–±–Ω–æ–≤–ª—è–µ–º GUI
5. –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏
6. –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Ç–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

### –≠—Ç–∞–ø 3: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û!):**

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 1: `wine_astraregul` (—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
1. `missing` ‚Üí `installing` ‚Üí –≤—ã–ø–æ–ª–Ω—è–µ–º ‚Üí `ok` / `error`

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 2: `wineprefix` (—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å)
1. `missing` ‚Üí `installing` ‚Üí –≤—ã–ø–æ–ª–Ω—è–µ–º ‚Üí `ok` / `error`

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 3: `wine-mono` (–≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
1. `pending` ‚Üí `installing` ‚Üí –≤—ã–ø–æ–ª–Ω—è–µ–º ‚Üí `ok` / `error`
2. **–ß–µ–∫–±–æ–∫—Å:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–Ω–∏–º–∞–µ—Ç—Å—è

### –≠—Ç–∞–ø 4: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ
- –í—Å–µ —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –ö–Ω–æ–ø–∫–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã
- –ß–µ–∫–±–æ–∫—Å—ã —Å–Ω—è—Ç—ã —Å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö

---

## üìã –°–¶–ï–ù–ê–†–ò–ô 3: –£–°–¢–ê–ù–û–í–ö–ê –ù–ï–°–ö–û–õ–¨–ö–ò–• –ö–û–ú–ü–û–ù–ï–ù–¢–û–í

**–ü—Ä–∏–º–µ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª `WINEPREFIX` –∏ `Wine Mono`

### –≠—Ç–∞–ø 1: –í—ã–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ—á–∞–µ—Ç `WINEPREFIX` ‚Üí `‚òë`
2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ—á–∞–µ—Ç `Wine Mono` ‚Üí `‚òë`
3. –ù–∞–∂–∏–º–∞–µ—Ç "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å"

### –≠—Ç–∞–ø 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (run_wine_install)
1. –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫: `selected = ['wineprefix', 'wine-mono']`
2. **–†–∞–∑—Ä–µ—à–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   - `WINEPREFIX` ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç `wine_astraregul`
   - `Wine Mono` ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç `wineprefix` (—É–∂–µ –µ—Å—Ç—å, –¥—É–±–ª–∏–∫–∞—Ç –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)
   - –§–∏–Ω–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫: `['wine_astraregul', 'wineprefix', 'wine-mono']`
3. **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å—ã:**
   - –¢–æ–ª—å–∫–æ –¥–ª—è –Ø–í–ù–û –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö: `wineprefix` ‚Üí `pending`, `wine-mono` ‚Üí `pending`
4. –û–±–Ω–æ–≤–ª—è–µ–º GUI
5. –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏
6. –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Ç–æ–∫

### –≠—Ç–∞–ø 3: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û!):**

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 1: `wine_astraregul`
- `missing` ‚Üí `installing` ‚Üí –≤—ã–ø–æ–ª–Ω—è–µ–º ‚Üí `ok` / `error`

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 2: `wineprefix`
- `pending` ‚Üí `installing` ‚Üí –≤—ã–ø–æ–ª–Ω—è–µ–º ‚Üí `ok` / `error`
- **–ß–µ–∫–±–æ–∫—Å:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–Ω–∏–º–∞–µ—Ç—Å—è

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 3: `wine-mono`
- `pending` ‚Üí `installing` ‚Üí –≤—ã–ø–æ–ª–Ω—è–µ–º ‚Üí `ok` / `error`
- **–ß–µ–∫–±–æ–∫—Å:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–Ω–∏–º–∞–µ—Ç—Å—è

---

## üìã –°–¶–ï–ù–ê–†–ò–ô 4: –£–î–ê–õ–ï–ù–ò–ï –ö–û–ú–ü–û–ù–ï–ù–¢–û–í

**–ü—Ä–∏–º–µ—Ä:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±—Ä–∞–ª `Wine Mono` –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è

### –≠—Ç–∞–ø 1: –í—ã–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–º–µ—á–∞–µ—Ç `Wine Mono` ‚Üí `‚òë`
2. –ù–∞–∂–∏–º–∞–µ—Ç "–£–¥–∞–ª–∏—Ç—å"
3. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —É–¥–∞–ª–µ–Ω–∏–µ

### –≠—Ç–∞–ø 2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (run_wine_uninstall)
1. –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫: `selected = ['wine-mono']`
2. **–ù–∞—Ö–æ–¥–∏–º –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
   - `Wine Mono` –Ω–µ –∏–º–µ–µ—Ç –¥–æ—á–µ—Ä–Ω–∏—Ö ‚Üí —Å–ø–∏—Å–æ–∫ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –ï—Å–ª–∏ –±—ã —É–¥–∞–ª—è–ª–∏ `wineprefix` ‚Üí –¥–æ–±–∞–≤–∏–ª–∏—Å—å –±—ã –≤—Å–µ winetricks –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
3. **–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å—ã:**
   - –¢–æ–ª—å–∫–æ –¥–ª—è –Ø–í–ù–û –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö: `wine-mono` ‚Üí `pending`
4. –û–±–Ω–æ–≤–ª—è–µ–º GUI
5. –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏
6. –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Ç–æ–∫ —É–¥–∞–ª–µ–Ω–∏—è

### –≠—Ç–∞–ø 3: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
**–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û!):**

#### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 1: `wine-mono`
1. –ü—Ä–æ–≤–µ—Ä–∫–∞: —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Üí –Ω–∞—á–∏–Ω–∞–µ–º —É–¥–∞–ª–µ–Ω–∏–µ
2. **–°—Ç–∞—Ç—É—Å:** `pending` ‚Üí `removing`
3. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `uninstall_component('wine-mono')` ‚Üí **–ñ–î–ï–ú –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:
   - ‚úÖ –£—Å–ø–µ—Ö ‚Üí —Å—Ç–∞—Ç—É—Å `missing`
   - ‚ùå –û—à–∏–±–∫–∞ ‚Üí —Å—Ç–∞—Ç—É—Å `error`
5. **–ß–µ–∫–±–æ–∫—Å:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–Ω–∏–º–∞–µ—Ç—Å—è (—Å—Ç–∞—Ç—É—Å `missing`)

### –≠—Ç–∞–ø 4: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ (_uninstall_completed)
1. –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
2. –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏
3. –û–±–Ω–æ–≤–ª—è–µ–º GUI
4. –°–Ω–∏–º–∞–µ–º —á–µ–∫–±–æ–∫—Å—ã —Å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö

---

## üìã –°–¶–ï–ù–ê–†–ò–ô 5: –û–ë–ù–û–í–õ–ï–ù–ò–ï GUI (_update_wine_status)

### –ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)
- –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–¥–æ –Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏)
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏/—É–¥–∞–ª–µ–Ω–∏—è
- –ü–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏)

### –ê–ª–≥–æ—Ä–∏—Ç–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–¢–ï–ö–£–©–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø):

1. **–°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–æ–≤:**
   - –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –æ—Ç–º–µ—á–µ–Ω–Ω—ã–º —á–µ–∫–±–æ–∫—Å–∞–º –∏–∑ `self.wine_checkboxes`
   - –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–º–µ–Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ `current_selection` (set)
   - **–í–ù–ò–ú–ê–ù–ò–ï:** –í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –í–°–ï –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ —á–µ–∫–±–æ–∫—Å—ã, –ë–ï–ó —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É

2. **–û—á–∏—â–∞–µ–º —Ç–∞–±–ª–∏—Ü—É** (—É–¥–∞–ª—è–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏ –∏ –æ—á–∏—â–∞–µ–º `wine_checkboxes`)

3. **–ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã** (`get_all_components_status()`)
   - –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ü–û–°–õ–ï —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —á–µ–∫–±–æ–∫—Å–æ–≤

4. **–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–∞–±–ª–∏—Ü—É:**
   - –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º –∏–∑ `COMPONENTS_CONFIG`
   - –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
     - –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç—É—Å –∏–∑ `all_status`
     - –°–æ–∑–¥–∞–µ–º —Å—Ç—Ä–æ–∫—É –≤ —Ç–∞–±–ª–∏—Ü–µ
     - –û–ø—Ä–µ–¥–µ–ª—è–µ–º —á–µ–∫–±–æ–∫—Å: `‚òê` –¥–ª—è `gui_selectable`, –ø—É—Å—Ç–æ–µ –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
     - –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–∏–º–≤–æ–ª –¥–ª—è –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: `‚îú‚îÄ` –∏–ª–∏ `‚îî‚îÄ` –¥–ª—è winetricks

5. **–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–æ–≤:**
   - –ü—Ä–æ—Ö–æ–¥–∏–º –ø–æ –≤—Å–µ–º `item_id` –≤ `wine_checkboxes`
   - –ï—Å–ª–∏ `component_name` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `current_selection` ‚Üí —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º `‚òë`
   - **–í–ù–ò–ú–ê–ù–ò–ï:** –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –í–°–ï –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `current_selection`, –ë–ï–ó –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞

6. **–û–±–Ω–æ–≤–ª—è–µ–º —Ü–≤–µ—Ç–∞** (—Å–æ–≥–ª–∞—Å–Ω–æ —Å—Ç–∞—Ç—É—Å–∞–º —á–µ—Ä–µ–∑ —Ç–µ–≥–∏)

---

## üîÑ –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û–°–¢–¨ –í–´–ü–û–õ–ù–ï–ù–ò–Ø (–ö–†–ò–¢–ò–ß–ù–û!)

### ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ):
```
install_component('wine_astraregul')  ‚Üí –∑–∞–ø—É—Å–∫–∞–µ–º –∏ –Ω–µ –∂–¥–µ–º
install_component('wineprefix')      ‚Üí –∑–∞–ø—É—Å–∫–∞–µ–º —Å—Ä–∞–∑—É –∂–µ
install_component('wine-mono')       ‚Üí –∑–∞–ø—É—Å–∫–∞–µ–º —Å—Ä–∞–∑—É –∂–µ
```

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ):
```python
# install_components() - –º–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:
for component_id in all_components:
    status = 'pending' ‚Üí 'installing'
    result = install_component(component_id)  # –ñ–î–ï–ú –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è!
    if result:
        status = 'installing' ‚Üí 'ok'
    else:
        status = 'installing' ‚Üí 'error'
```

**–ö–∞–∂–¥—ã–π `install_component()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** - –º—ã –∂–¥–µ–º –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É!

---

## üìä –°–•–ï–ú–ê –°–û–°–¢–û–Ø–ù–ò–ô –ß–ï–ö–ë–û–ö–°–û–í

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –°—Ç–∞—Ç—É—Å    ‚îÇ –ß–µ–∫–±–æ–∫—Å  ‚îÇ –û–ø–µ—Ä–∞—Ü–∏—è ‚îÇ  –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤ ‚îÇ –°–Ω–∏–º–∞–µ–º? ‚îÇ –°–æ—Ö—Ä–∞–Ω—è–µ–º? ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  missing    ‚îÇ    ‚òê     ‚îÇ    -     ‚îÇ      -       ‚îÇ    -    ‚îÇ    –ù–µ—Ç  ‚îÇ
‚îÇ  pending    ‚îÇ    ‚òë     ‚îÇ  –ñ–¥–µ—Ç    ‚îÇ   –í–æ—Å—Å—Ç–∞–Ω.  ‚îÇ   –ù–µ—Ç   ‚îÇ   –î–∞    ‚îÇ
‚îÇ installing  ‚îÇ    ‚òë     ‚îÇ  –†–∞–±–æ—Ç–∞–µ—Ç‚îÇ   –í–æ—Å—Å—Ç–∞–Ω.  ‚îÇ   –ù–µ—Ç   ‚îÇ   –î–∞    ‚îÇ
‚îÇ removing    ‚îÇ    ‚òë     ‚îÇ  –†–∞–±–æ—Ç–∞–µ—Ç‚îÇ   –í–æ—Å—Å—Ç–∞–Ω.  ‚îÇ   –ù–µ—Ç   ‚îÇ   –î–∞    ‚îÇ
‚îÇ     ok      ‚îÇ    ‚òê     ‚îÇ –ó–∞–≤–µ—Ä—à–µ–Ω–æ‚îÇ   –°–Ω–∏–º–∞–µ–º    ‚îÇ   –î–∞    ‚îÇ    –ù–µ—Ç  ‚îÇ
‚îÇ   error     ‚îÇ    ‚òë     ‚îÇ  –û—à–∏–±–∫–∞  ‚îÇ   –í–æ—Å—Å—Ç–∞–Ω.  ‚îÇ   –ù–µ—Ç   ‚îÇ   –î–∞    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ú–û–ú–ï–ù–¢–´

### 1. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è ‚úÖ
- **–í–°–ï –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û** –≤ —Ü–∏–∫–ª–µ `for component_id in resolved_components:`
- –ö–∞–∂–¥—ã–π `install_component()` –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –ù–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è!

### 2. –°—Ç–∞—Ç—É—Å—ã –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–´**
- **–í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞—Ç—É—Å—ã –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤–æ–æ–±—â–µ!**
- `UniversalInstaller` –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ `ComponentStatusManager`
- –í `install_components()` –∏ `install_component()` –ù–ï–¢ –≤—ã–∑–æ–≤–æ–≤ `update_component_status()`
- –°—Ç–∞—Ç—É—Å—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫—É —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
- –°—Ç–∞—Ç—É—Å—ã `pending`, `installing`, `removing` –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏/—É–¥–∞–ª–µ–Ω–∏—è

### 3. –ß–µ–∫–±–æ–∫—Å—ã –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö ‚ö†Ô∏è
- **–í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –í–°–ï –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ —á–µ–∫–±–æ–∫—Å—ã –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- **–í —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –í–°–ï –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `current_selection` –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞
- **–ü–†–û–ë–õ–ï–ú–ê:** –ß–µ–∫–±–æ–∫—Å—ã –æ—Å—Ç–∞—é—Ç—Å—è –æ—Ç–º–µ—á–µ–Ω–Ω—ã–º–∏ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø–æ–∫–∞ –Ω–µ –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω `_update_wine_status()`

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ GUI
- –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ `_update_wine_status()` –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
- –í–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è callback `UPDATE_COMPONENT:component_id` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è, –Ω–æ —Å—Ç–∞—Ç—É—Å—ã –ù–ï –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
- –°—Ç–∞—Ç—É—Å—ã –≤ GUI –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∞–π–ª–æ–≤ (`ok`/`missing`), –Ω–æ –ù–ï –ø—Ä–æ—Ü–µ—Å—Å (`installing`/`pending`/`removing`)

---

## üé¨ –ü–û–õ–ù–´–ô –¶–ò–ö–õ –£–°–¢–ê–ù–û–í–ö–ò (–ø–æ—à–∞–≥–æ–≤–æ)

```
1. [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] –í—ã–±–∏—Ä–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚Üí –æ—Ç–º–µ—á–∞–µ—Ç —á–µ–∫–±–æ–∫—Å—ã ‚òë
2. [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] –ù–∞–∂–∏–º–∞–µ—Ç "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å"
3. [GUI] run_wine_install()
   ‚îú‚îÄ –ü–æ–ª—É—á–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (ID –∏–∑ —á–µ–∫–±–æ–∫—Å–æ–≤)
   ‚îú‚îÄ –ë–ª–æ–∫–∏—Ä—É–µ—Ç –∫–Ω–æ–ø–∫–∏
   ‚îî‚îÄ –ó–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ—Ç–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
4. [–ü–æ—Ç–æ–∫] _perform_wine_install(selected)
   ‚îî‚îÄ –í—ã–∑—ã–≤–∞–µ—Ç universal_installer.install_components(selected)
5. [UniversalInstaller] install_components(selected)
   ‚îú‚îÄ –†–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: resolve_dependencies(selected) ‚Üí resolved_components
   ‚îî‚îÄ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:
      ‚îú‚îÄ for component_id in resolved_components:
      ‚îú‚îÄ check_component_status() ‚Üí –µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
      ‚îú‚îÄ install_component() ‚Üí –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–ñ–î–ï–ú –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è!)
      ‚îú‚îÄ ‚ö†Ô∏è –°—Ç–∞—Ç—É—Å—ã –ù–ï –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è! (pending/installing –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è)
      ‚îú‚îÄ callback("UPDATE_COMPONENT:component_id") ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ GUI (–Ω–æ —Å—Ç–∞—Ç—É—Å –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)
      ‚îî‚îÄ ...
6. [GUI] _install_completed(success)
   ‚îú‚îÄ –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç –∫–Ω–æ–ø–∫–∏
   ‚îî‚îÄ –û–±–Ω–æ–≤–ª—è–µ—Ç GUI (_update_wine_status) ‚Üí —Å–Ω–∏–º–∞–µ—Ç —á–µ–∫–±–æ–∫—Å—ã —Å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö
```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –ü–†–ê–í–ò–õ–¨–ù–û–°–¢–ò –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –í–æ–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
1. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (–Ω–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)? **–î–ê** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
2. ‚úÖ –ñ–¥–µ–º –ª–∏ –º—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ `install_component()` –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º? **–î–ê** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
3. ‚ùå –°—Ç–∞—Ç—É—Å `pending` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —è–≤–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö? **–ù–ï–¢** - —Å—Ç–∞—Ç—É—Å—ã –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è!
4. ‚ö†Ô∏è –ß–µ–∫–±–æ–∫—Å—ã —Å–Ω–∏–º–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö (`ok`/`missing`)? **–ß–∞—Å—Ç–∏—á–Ω–æ** - —Å–Ω–∏–º–∞—é—Ç—Å—è, –Ω–æ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞
5. ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –Ω–æ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç `pending`? **–î–ê** - –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è, —Å—Ç–∞—Ç—É—Å—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
6. ‚úÖ –î–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ù–ï –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏? **–î–ê** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏)

---

## üîß –ï–°–õ–ò –ß–¢–û-–¢–û –ù–ï –†–ê–ë–û–¢–ê–ï–¢

### –ü—Ä–æ–±–ª–µ–º–∞: –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `install_components()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–∏–∫–ª `for` —Å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏

### –ü—Ä–æ–±–ª–µ–º–∞: –ß–µ–∫–±–æ–∫—Å—ã –Ω–µ —Å–Ω–∏–º–∞—é—Ç—Å—è –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏
**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –≤ `_update_wine_status()` - —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ –ù–ï –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `current_selection`

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ç—É—Å—ã –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ `update_component_status()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ç—É—Å—ã –ù–ï –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏/—É–¥–∞–ª–µ–Ω–∏—è
**–†–µ—à–µ–Ω–∏–µ:** 
1. –ü–µ—Ä–µ–¥–∞—Ç—å `ComponentStatusManager` –≤ `UniversalInstaller` —á–µ—Ä–µ–∑ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
2. –í—ã–∑—ã–≤–∞—Ç—å `component_status_manager.update_component_status(component_id, 'installing')` –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
3. –í—ã–∑—ã–≤–∞—Ç—å `component_status_manager.update_component_status(component_id, 'ok'/'error')` –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
4. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å `pending` –≤ `run_wine_install()` –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø–æ—Ç–æ–∫–∞

---

## üí° –ü–†–ï–î–õ–û–ñ–ï–ù–ò–Ø –ü–û –ü–†–ê–í–ò–õ–¨–ù–û–ô –°–¢–†–£–ö–¢–£–†–ï –†–ê–ë–û–¢–´ –° –ß–ï–ö–ë–û–ö–°–ê–ú–ò –ò –ó–ê–í–ò–°–ò–ú–û–°–¢–Ø–ú–ò

### 1. –£–ª—É—á—à–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —á–µ–∫–±–æ–∫—Å–æ–≤ –≤ `_update_wine_status()`

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –í–°–ï –æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ —á–µ–∫–±–æ–∫—Å—ã –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É
- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –í–°–ï –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `current_selection`, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
```python
# –í –º–µ—Ç–æ–¥–µ _update_wine_status():

# 1. –ü–û–õ–£–ß–ê–ï–ú —Å—Ç–∞—Ç—É—Å—ã –ü–ï–†–ï–î —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —á–µ–∫–±–æ–∫—Å–æ–≤
all_status = self.component_status_manager.get_all_components_status()

# 2. –°–æ—Ö—Ä–∞–Ω—è–µ–º –¢–û–õ–¨–ö–û –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –∑–∞–≤–µ—Ä—à–µ–Ω—ã
current_selection = set()
for item, checked in self.wine_checkboxes.items():
    if checked:
        values = self.wine_tree.item(item, 'values')
        component_name = values[1]
        
        # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (—á–µ—Ä–µ–∑ ID –∏–∑ COMPONENTS_CONFIG)
        component_id = self._get_component_id_by_name(component_name)
        status_tag = all_status.get(component_id, ('', 'missing'))[1]
        
        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –ù–ï –∑–∞–≤–µ—Ä—à–µ–Ω–∞
        if status_tag not in ['ok', 'missing']:
            current_selection.add(component_name)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ß–µ–∫–±–æ–∫—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–Ω–∏–º–∞—é—Ç—Å—è —Å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ß–µ–∫–±–æ–∫—Å—ã –æ—Å—Ç–∞—é—Ç—Å—è –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ (`pending`, `installing`, `removing`, `error`)
- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏

---

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ 'pending' –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**
- –°—Ç–∞—Ç—É—Å `pending` –ù–ï —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∂–¥–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
```python
# –í –º–µ—Ç–æ–¥–µ run_wine_install():

# –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è selected –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
selected = self.get_selected_wine_components()

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å 'pending' –¥–ª—è —è–≤–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
for component_id in selected:
    self.component_status_manager.update_component_status(component_id, 'pending')

# –û–±–Ω–æ–≤–ª—è–µ–º GUI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ 'pending'
self._update_wine_status()

# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç—É—Å "–û–∂–∏–¥–∞–Ω–∏–µ" –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π
- –Ø–≤–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø–æ–ª—É—á–∞—é—Ç `installing` —Å—Ä–∞–∑—É (–±–µ–∑ `pending`)

---

### 3. –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `resolve_dependencies()`
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ù–ï –ø–æ–ª—É—á–∞—é—Ç —Å—Ç–∞—Ç—É—Å `pending`
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ:**
```python
# –í –º–µ—Ç–æ–¥–µ install_components():

# 1. –†–∞–∑—Ä–µ—à–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
resolved_components = self.resolve_dependencies(component_ids)

# 2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å 'installing' –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–Ω–µ pending!)
for component_id in resolved_components:
    if component_id not in component_ids:  # –≠—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
        self.component_status_manager.update_component_status(component_id, 'installing')
        self._callback("UPDATE_COMPONENT:%s" % component_id)

# 3. –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
for component_id in resolved_components:
    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å 'installing' –µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
    if component_id in component_ids:  # –≠—Ç–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
        current_status = self.component_status_manager.get_component_status(component_id)
        if current_status == 'pending':
            self.component_status_manager.update_component_status(component_id, 'installing')
            self._callback("UPDATE_COMPONENT:%s" % component_id)
    
    # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
    if not self.check_component_status(component_id):
        if self.install_component(component_id):
            self.component_status_manager.update_component_status(component_id, 'ok')
        else:
            self.component_status_manager.update_component_status(component_id, 'error')
        self._callback("UPDATE_COMPONENT:%s" % component_id)
```

---

### 4. –£–ª—É—á—à–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —á–µ–∫–±–æ–∫—Å–æ–≤

**–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
```python
# –í –º–µ—Ç–æ–¥–µ _update_wine_status(), –ø—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —á–µ–∫–±–æ–∫—Å–æ–≤:

# –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–æ–≤
for item_id in self.wine_checkboxes:
    if item_id in self.wine_tree.get_children():
        values = self.wine_tree.item(item_id, 'values')
        component_name = values[1]
        
        # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
        component_id = self._get_component_id_by_name(component_name)
        status_tag = all_status.get(component_id, ('', 'missing'))[1]
        
        # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —á–µ–∫–±–æ–∫—Å –¢–û–õ–¨–ö–û –µ—Å–ª–∏:
        # 1. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±—ã–ª –≤ current_selection (–æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞)
        # 2. –ò–ª–∏ —Å—Ç–∞—Ç—É—Å —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—É—é –æ–ø–µ—Ä–∞—Ü–∏—é
        if component_name in current_selection:
            self.wine_checkboxes[item_id] = True
            values = list(values)
            values[0] = '‚òë'
            self.wine_tree.item(item_id, values=values)
        elif status_tag in ['ok', 'missing']:
            # –û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ - —è–≤–Ω–æ —Å–Ω–∏–º–∞–µ–º —á–µ–∫–±–æ–∫—Å
            self.wine_checkboxes[item_id] = False
            values = list(values)
            values[0] = '‚òê'
            self.wine_tree.item(item_id, values=values)
```

---

### 5. –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –í–´–ë–ò–†–ê–ï–¢ –ö–û–ú–ü–û–ù–ï–ù–¢–´                          ‚îÇ
‚îÇ    - –û—Ç–º–µ—á–∞–µ—Ç —á–µ–∫–±–æ–∫—Å—ã ‚òë                                    ‚îÇ
‚îÇ    - –ù–∞–∂–∏–º–∞–µ—Ç "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å"                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. –ü–û–î–ì–û–¢–û–í–ö–ê (run_wine_install)                            ‚îÇ
‚îÇ    - –ü–æ–ª—É—á–∞–µ–º selected –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (ID)                     ‚îÇ
‚îÇ    - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å 'pending' –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö          ‚îÇ
‚îÇ    - –û–±–Ω–æ–≤–ª—è–µ–º GUI (_update_wine_status)                    ‚îÇ
‚îÇ    - –ë–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏                                       ‚îÇ
‚îÇ    - –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Ç–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. –í–´–ü–û–õ–ù–ï–ù–ò–ï (install_components)                          ‚îÇ
‚îÇ    - –†–∞–∑—Ä–µ—à–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (resolve_dependencies)           ‚îÇ
‚îÇ    - –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å 'installing' –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π     ‚îÇ
‚îÇ    - –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:             ‚îÇ
‚îÇ      * missing/pending ‚Üí installing ‚Üí ok/error              ‚îÇ
‚îÇ    - –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞: callback –¥–ª—è GUI            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                        ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4. –ó–ê–í–ï–†–®–ï–ù–ò–ï (_install_completed)                          ‚îÇ
‚îÇ    - –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫–∏                                    ‚îÇ
‚îÇ    - –û–±–Ω–æ–≤–ª—è–µ–º GUI (_update_wine_status)                    ‚îÇ
‚îÇ    - –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏:                                        ‚îÇ
‚îÇ      * –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –ù–ï –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —á–µ–∫–±–æ–∫—Å—ã            ‚îÇ
‚îÇ      * –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —á–µ–∫–±–æ–∫—Å—ã –∏–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞      ‚îÇ
‚îÇ      * –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–Ω–∏–º–∞–µ–º —á–µ–∫–±–æ–∫—Å—ã —Å –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### 6. –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–°—Ç–∞—Ç—É—Å—ã:**
   - `pending` ‚Üí —Ç–æ–ª—å–∫–æ –¥–ª—è —è–≤–Ω–æ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–¥–æ –Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏)
   - `installing` ‚Üí –¥–ª—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
   - `ok`/`error` ‚Üí –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏

2. **–ß–µ–∫–±–æ–∫—Å—ã:**
   - –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¢–û–õ–¨–ö–û –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º: `pending`, `installing`, `removing`, `error`
   - –ù–ï —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º: `ok`, `missing` (–ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è)
   - –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –¢–û–õ–¨–ö–û –∏–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ (–∫–æ—Ç–æ—Ä—ã–π —É–∂–µ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω)

3. **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   - –î–æ–±–∞–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `resolve_dependencies()`
   - –ù–ï –ø–æ–ª—É—á–∞—é—Ç —Å—Ç–∞—Ç—É—Å `pending`
   - –ü–æ–ª—É—á–∞—é—Ç —Å—Ç–∞—Ç—É—Å `installing` —Å—Ä–∞–∑—É –ø—Ä–∏ –Ω–∞—á–∞–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

4. **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û
   - –ö–∞–∂–¥—ã–π `install_component()` –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
   - –ù–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è!

---

### 7. –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

#### üî¥ –ö–†–ò–¢–ò–ß–ù–û: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ (—Å–µ–π—á–∞—Å –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ!)

1. **–í `UniversalInstaller.__init__()`:**
   ```python
   def __init__(self, logger=None, callback=None, status_manager=None):
       self.logger = logger
       self.callback = callback
       self.status_manager = status_manager  # –î–æ–±–∞–≤–∏—Ç—å!
   ```

2. **–í `run_wine_install()`:**
   ```python
   # –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   selected = self.get_selected_wine_components()
   
   # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å 'pending' –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   for component_id in selected:
       self.component_status_manager.update_component_status(component_id, 'pending')
   
   # –û–±–Ω–æ–≤–ª—è–µ–º GUI –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ 'pending'
   self._update_wine_status()
   
   # –ó–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
   ```

3. **–í `install_components()`:**
   ```python
   # –†–∞–∑—Ä–µ—à–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
   resolved_components = self.resolve_dependencies(component_ids)
   
   # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å 'installing' –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
   for component_id in resolved_components:
       if component_id not in component_ids:  # –≠—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å
           if self.status_manager:
               self.status_manager.update_component_status(component_id, 'installing')
   
   # –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   for component_id in resolved_components:
       # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å 'installing' –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
       if component_id in component_ids:  # –≠—Ç–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
           if self.status_manager:
               self.status_manager.update_component_status(component_id, 'installing')
       
       # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
       if not self.check_component_status(component_id):
           result = self.install_component(component_id)
           
           # –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
           if self.status_manager:
               if result:
                   self.status_manager.update_component_status(component_id, 'ok')
               else:
                   self.status_manager.update_component_status(component_id, 'error')
           
           self._callback("UPDATE_COMPONENT:%s" % component_id)
   ```

4. **–í `_update_wine_status()`:**
   ```python
   # 1. –ü–û–õ–£–ß–ê–ï–ú —Å—Ç–∞—Ç—É—Å—ã –î–û —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —á–µ–∫–±–æ–∫—Å–æ–≤
   all_status = self.component_status_manager.get_all_components_status()
   
   # 2. –°–æ—Ö—Ä–∞–Ω—è–µ–º –¢–û–õ–¨–ö–û –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –∑–∞–≤–µ—Ä—à–µ–Ω—ã
   current_selection = set()
   for item, checked in self.wine_checkboxes.items():
       if checked:
           values = self.wine_tree.item(item, 'values')
           component_name = values[1]
           
           # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
           component_id = self._get_component_id_by_name(component_name)
           status_tag = all_status.get(component_id, ('', 'missing'))[1]
           
           # –°–æ—Ö—Ä–∞–Ω—è–µ–º –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ü–∏—è –ù–ï –∑–∞–≤–µ—Ä—à–µ–Ω–∞
           if status_tag not in ['ok', 'missing']:
               current_selection.add(component_name)
   
   # ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ ...
   
   # 5. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —á–µ–∫–±–æ–∫—Å—ã —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—Ç–∞—Ç—É—Å–∞
   for item_id in self.wine_checkboxes:
       if item_id in self.wine_tree.get_children():
           values = self.wine_tree.item(item_id, 'values')
           component_name = values[1]
           
           # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
           component_id = self._get_component_id_by_name(component_name)
           status_tag = all_status.get(component_id, ('', 'missing'))[1]
           
           # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±—ã–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω –ò –æ–ø–µ—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
           if component_name in current_selection:
               self.wine_checkboxes[item_id] = True
               values = list(values)
               values[0] = '‚òë'
               self.wine_tree.item(item_id, values=values)
           elif status_tag in ['ok', 'missing']:
               # –û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ - —è–≤–Ω–æ —Å–Ω–∏–º–∞–µ–º —á–µ–∫–±–æ–∫—Å
               self.wine_checkboxes[item_id] = False
               values = list(values)
               values[0] = '‚òê'
               self.wine_tree.item(item_id, values=values)
   ```

5. **–í `AutomationGUI.__init__()`:**
   ```python
   # –ü–µ—Ä–µ–¥–∞–µ–º ComponentStatusManager –≤ UniversalInstaller
   self.universal_installer = UniversalInstaller(
       callback=self._component_status_callback,
       status_manager=self.component_status_manager  # –î–æ–±–∞–≤–∏—Ç—å!
   )
   ```

**–≠—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±–µ—Å–ø–µ—á–∞—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ —á–µ–∫–±–æ–∫—Å–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ –æ–ø–∏—Å–∞–Ω–Ω–æ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É.**
